{"version":3,"file":"hello_near.js","sources":["../node_modules/near-sdk-js/lib/utils.js","../node_modules/near-sdk-js/lib/types/vm_types.js","../node_modules/@scure/base/lib/esm/index.js","../node_modules/near-sdk-js/lib/types/public_key.js","../node_modules/near-sdk-js/lib/api.js","../node_modules/near-sdk-js/lib/near-bindgen.js","../node_modules/near-sdk-js/lib/collections/lookup-map.js","../node_modules/near-sdk-js/lib/collections/vector.js","../node_modules/near-sdk-js/lib/collections/unordered-map.js","../node_modules/near-sdk-js/lib/collections/unordered-set.js","../node_modules/near-sdk-js/lib/promise.js","../src/event.ts","../src/events.ts","../src/metadata.ts","../src/token.ts","../src/utils.ts","../src/impl.ts","../src/contract.ts"],"sourcesContent":["// make PromiseIndex a nominal typing\nvar PromiseIndexBrand;\n(function (PromiseIndexBrand) {\n    PromiseIndexBrand[PromiseIndexBrand[\"_\"] = -1] = \"_\";\n})(PromiseIndexBrand || (PromiseIndexBrand = {}));\nconst TYPE_KEY = \"typeInfo\";\nvar TypeBrand;\n(function (TypeBrand) {\n    TypeBrand[\"BIGINT\"] = \"bigint\";\n    TypeBrand[\"DATE\"] = \"date\";\n})(TypeBrand || (TypeBrand = {}));\nexport const ERR_INCONSISTENT_STATE = \"The collection is an inconsistent state. Did previous smart contract execution terminate unexpectedly?\";\nexport const ERR_INDEX_OUT_OF_BOUNDS = \"Index out of bounds\";\nconst ACCOUNT_ID_REGEX = /^(([a-z\\d]+[-_])*[a-z\\d]+\\.)*([a-z\\d]+[-_])*[a-z\\d]+$/;\nexport function u8ArrayToBytes(array) {\n    return array.reduce((result, value) => `${result}${String.fromCharCode(value)}`, \"\");\n}\n// TODO this function is a bit broken and the type can't be string\n// TODO for more info: https://github.com/near/near-sdk-js/issues/78\nexport function bytesToU8Array(bytes) {\n    return Uint8Array.from([...bytes].map((byte) => byte.charCodeAt(0)));\n}\n/**\n * Accepts a string or Uint8Array and either checks for the validity of the string or converts the Uint8Array to Bytes.\n *\n * @param stringOrU8Array - The string or Uint8Array to be checked/transformed\n * @returns Safe Bytes to be used in NEAR calls.\n */\nexport function bytes(stringOrU8Array) {\n    if (typeof stringOrU8Array === \"string\") {\n        return checkStringIsBytes(stringOrU8Array);\n    }\n    if (stringOrU8Array instanceof Uint8Array) {\n        return u8ArrayToBytes(stringOrU8Array);\n    }\n    throw new Error(\"bytes: expected string or Uint8Array\");\n}\nfunction checkStringIsBytes(value) {\n    [...value].forEach((character, index) => {\n        assert(character.charCodeAt(0) <= 255, `string ${value} at index ${index}: ${character} is not a valid byte`);\n    });\n    return value;\n}\n/**\n * Asserts that the expression passed to the function is truthy, otherwise throws a new Error with the provided message.\n *\n * @param expression - The expression to be asserted.\n * @param message - The error message to be printed.\n */\nexport function assert(expression, message) {\n    if (!expression) {\n        throw new Error(\"assertion failed: \" + message);\n    }\n}\nexport function getValueWithOptions(value, options = {\n    deserializer: deserialize,\n}) {\n    const deserialized = deserialize(value);\n    if (deserialized === undefined || deserialized === null) {\n        return options?.defaultValue ?? null;\n    }\n    if (options?.reconstructor) {\n        return options.reconstructor(deserialized);\n    }\n    return deserialized;\n}\nexport function serializeValueWithOptions(value, { serializer } = {\n    serializer: serialize,\n}) {\n    return serializer(value);\n}\nexport function serialize(valueToSerialize) {\n    return JSON.stringify(valueToSerialize, function (key, value) {\n        if (typeof value === \"bigint\") {\n            return {\n                value: value.toString(),\n                [TYPE_KEY]: TypeBrand.BIGINT,\n            };\n        }\n        if (typeof this[key] === \"object\" &&\n            this[key] !== null &&\n            this[key] instanceof Date) {\n            return {\n                value: this[key].toISOString(),\n                [TYPE_KEY]: TypeBrand.DATE,\n            };\n        }\n        return value;\n    });\n}\nexport function deserialize(valueToDeserialize) {\n    return JSON.parse(valueToDeserialize, (_, value) => {\n        if (value !== null &&\n            typeof value === \"object\" &&\n            Object.keys(value).length === 2 &&\n            Object.keys(value).every((key) => [\"value\", TYPE_KEY].includes(key))) {\n            switch (value[TYPE_KEY]) {\n                case TypeBrand.BIGINT:\n                    return BigInt(value[\"value\"]);\n                case TypeBrand.DATE:\n                    return new Date(value[\"value\"]);\n            }\n        }\n        return value;\n    });\n}\n/**\n * Validates the Account ID according to the NEAR protocol\n * [Account ID rules](https://nomicon.io/DataStructures/Account#account-id-rules).\n *\n * @param accountId - The Account ID string you want to validate.\n */\nexport function validateAccountId(accountId) {\n    return (accountId.length >= 2 &&\n        accountId.length <= 64 &&\n        ACCOUNT_ID_REGEX.test(accountId));\n}\n","/**\n * A Promise result in near can be one of:\n * - NotReady = 0 - the promise you are specifying is still not ready, not yet failed nor successful.\n * - Successful = 1 - the promise has been successfully executed and you can retrieve the resulting value.\n * - Failed = 2 - the promise execution has failed.\n */\nexport var PromiseResult;\n(function (PromiseResult) {\n    PromiseResult[PromiseResult[\"NotReady\"] = 0] = \"NotReady\";\n    PromiseResult[PromiseResult[\"Successful\"] = 1] = \"Successful\";\n    PromiseResult[PromiseResult[\"Failed\"] = 2] = \"Failed\";\n})(PromiseResult || (PromiseResult = {}));\n/**\n * A promise error can either be due to the promise failing or not yet being ready.\n */\nexport var PromiseError;\n(function (PromiseError) {\n    PromiseError[PromiseError[\"Failed\"] = 0] = \"Failed\";\n    PromiseError[PromiseError[\"NotReady\"] = 1] = \"NotReady\";\n})(PromiseError || (PromiseError = {}));\n","/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nexport function assertNumber(n) {\n    if (!Number.isSafeInteger(n))\n        throw new Error(`Wrong integer: ${n}`);\n}\nfunction chain(...args) {\n    const wrap = (a, b) => (c) => a(b(c));\n    const encode = Array.from(args)\n        .reverse()\n        .reduce((acc, i) => (acc ? wrap(acc, i.encode) : i.encode), undefined);\n    const decode = args.reduce((acc, i) => (acc ? wrap(acc, i.decode) : i.decode), undefined);\n    return { encode, decode };\n}\nfunction alphabet(alphabet) {\n    return {\n        encode: (digits) => {\n            if (!Array.isArray(digits) || (digits.length && typeof digits[0] !== 'number'))\n                throw new Error('alphabet.encode input should be an array of numbers');\n            return digits.map((i) => {\n                assertNumber(i);\n                if (i < 0 || i >= alphabet.length)\n                    throw new Error(`Digit index outside alphabet: ${i} (alphabet: ${alphabet.length})`);\n                return alphabet[i];\n            });\n        },\n        decode: (input) => {\n            if (!Array.isArray(input) || (input.length && typeof input[0] !== 'string'))\n                throw new Error('alphabet.decode input should be array of strings');\n            return input.map((letter) => {\n                if (typeof letter !== 'string')\n                    throw new Error(`alphabet.decode: not string element=${letter}`);\n                const index = alphabet.indexOf(letter);\n                if (index === -1)\n                    throw new Error(`Unknown letter: \"${letter}\". Allowed: ${alphabet}`);\n                return index;\n            });\n        },\n    };\n}\nfunction join(separator = '') {\n    if (typeof separator !== 'string')\n        throw new Error('join separator should be string');\n    return {\n        encode: (from) => {\n            if (!Array.isArray(from) || (from.length && typeof from[0] !== 'string'))\n                throw new Error('join.encode input should be array of strings');\n            for (let i of from)\n                if (typeof i !== 'string')\n                    throw new Error(`join.encode: non-string input=${i}`);\n            return from.join(separator);\n        },\n        decode: (to) => {\n            if (typeof to !== 'string')\n                throw new Error('join.decode input should be string');\n            return to.split(separator);\n        },\n    };\n}\nfunction padding(bits, chr = '=') {\n    assertNumber(bits);\n    if (typeof chr !== 'string')\n        throw new Error('padding chr should be string');\n    return {\n        encode(data) {\n            if (!Array.isArray(data) || (data.length && typeof data[0] !== 'string'))\n                throw new Error('padding.encode input should be array of strings');\n            for (let i of data)\n                if (typeof i !== 'string')\n                    throw new Error(`padding.encode: non-string input=${i}`);\n            while ((data.length * bits) % 8)\n                data.push(chr);\n            return data;\n        },\n        decode(input) {\n            if (!Array.isArray(input) || (input.length && typeof input[0] !== 'string'))\n                throw new Error('padding.encode input should be array of strings');\n            for (let i of input)\n                if (typeof i !== 'string')\n                    throw new Error(`padding.decode: non-string input=${i}`);\n            let end = input.length;\n            if ((end * bits) % 8)\n                throw new Error('Invalid padding: string should have whole number of bytes');\n            for (; end > 0 && input[end - 1] === chr; end--) {\n                if (!(((end - 1) * bits) % 8))\n                    throw new Error('Invalid padding: string has too much padding');\n            }\n            return input.slice(0, end);\n        },\n    };\n}\nfunction normalize(fn) {\n    if (typeof fn !== 'function')\n        throw new Error('normalize fn should be function');\n    return { encode: (from) => from, decode: (to) => fn(to) };\n}\nfunction convertRadix(data, from, to) {\n    if (from < 2)\n        throw new Error(`convertRadix: wrong from=${from}, base cannot be less than 2`);\n    if (to < 2)\n        throw new Error(`convertRadix: wrong to=${to}, base cannot be less than 2`);\n    if (!Array.isArray(data))\n        throw new Error('convertRadix: data should be array');\n    if (!data.length)\n        return [];\n    let pos = 0;\n    const res = [];\n    const digits = Array.from(data);\n    digits.forEach((d) => {\n        assertNumber(d);\n        if (d < 0 || d >= from)\n            throw new Error(`Wrong integer: ${d}`);\n    });\n    while (true) {\n        let carry = 0;\n        let done = true;\n        for (let i = pos; i < digits.length; i++) {\n            const digit = digits[i];\n            const digitBase = from * carry + digit;\n            if (!Number.isSafeInteger(digitBase) ||\n                (from * carry) / from !== carry ||\n                digitBase - digit !== from * carry) {\n                throw new Error('convertRadix: carry overflow');\n            }\n            carry = digitBase % to;\n            digits[i] = Math.floor(digitBase / to);\n            if (!Number.isSafeInteger(digits[i]) || digits[i] * to + carry !== digitBase)\n                throw new Error('convertRadix: carry overflow');\n            if (!done)\n                continue;\n            else if (!digits[i])\n                pos = i;\n            else\n                done = false;\n        }\n        res.push(carry);\n        if (done)\n            break;\n    }\n    for (let i = 0; i < data.length - 1 && data[i] === 0; i++)\n        res.push(0);\n    return res.reverse();\n}\nconst gcd = (a, b) => (!b ? a : gcd(b, a % b));\nconst radix2carry = (from, to) => from + (to - gcd(from, to));\nfunction convertRadix2(data, from, to, padding) {\n    if (!Array.isArray(data))\n        throw new Error('convertRadix2: data should be array');\n    if (from <= 0 || from > 32)\n        throw new Error(`convertRadix2: wrong from=${from}`);\n    if (to <= 0 || to > 32)\n        throw new Error(`convertRadix2: wrong to=${to}`);\n    if (radix2carry(from, to) > 32) {\n        throw new Error(`convertRadix2: carry overflow from=${from} to=${to} carryBits=${radix2carry(from, to)}`);\n    }\n    let carry = 0;\n    let pos = 0;\n    const mask = 2 ** to - 1;\n    const res = [];\n    for (const n of data) {\n        assertNumber(n);\n        if (n >= 2 ** from)\n            throw new Error(`convertRadix2: invalid data word=${n} from=${from}`);\n        carry = (carry << from) | n;\n        if (pos + from > 32)\n            throw new Error(`convertRadix2: carry overflow pos=${pos} from=${from}`);\n        pos += from;\n        for (; pos >= to; pos -= to)\n            res.push(((carry >> (pos - to)) & mask) >>> 0);\n        carry &= 2 ** pos - 1;\n    }\n    carry = (carry << (to - pos)) & mask;\n    if (!padding && pos >= from)\n        throw new Error('Excess padding');\n    if (!padding && carry)\n        throw new Error(`Non-zero padding: ${carry}`);\n    if (padding && pos > 0)\n        res.push(carry >>> 0);\n    return res;\n}\nfunction radix(num) {\n    assertNumber(num);\n    return {\n        encode: (bytes) => {\n            if (!(bytes instanceof Uint8Array))\n                throw new Error('radix.encode input should be Uint8Array');\n            return convertRadix(Array.from(bytes), 2 ** 8, num);\n        },\n        decode: (digits) => {\n            if (!Array.isArray(digits) || (digits.length && typeof digits[0] !== 'number'))\n                throw new Error('radix.decode input should be array of strings');\n            return Uint8Array.from(convertRadix(digits, num, 2 ** 8));\n        },\n    };\n}\nfunction radix2(bits, revPadding = false) {\n    assertNumber(bits);\n    if (bits <= 0 || bits > 32)\n        throw new Error('radix2: bits should be in (0..32]');\n    if (radix2carry(8, bits) > 32 || radix2carry(bits, 8) > 32)\n        throw new Error('radix2: carry overflow');\n    return {\n        encode: (bytes) => {\n            if (!(bytes instanceof Uint8Array))\n                throw new Error('radix2.encode input should be Uint8Array');\n            return convertRadix2(Array.from(bytes), 8, bits, !revPadding);\n        },\n        decode: (digits) => {\n            if (!Array.isArray(digits) || (digits.length && typeof digits[0] !== 'number'))\n                throw new Error('radix2.decode input should be array of strings');\n            return Uint8Array.from(convertRadix2(digits, bits, 8, revPadding));\n        },\n    };\n}\nfunction unsafeWrapper(fn) {\n    if (typeof fn !== 'function')\n        throw new Error('unsafeWrapper fn should be function');\n    return function (...args) {\n        try {\n            return fn.apply(null, args);\n        }\n        catch (e) { }\n    };\n}\nfunction checksum(len, fn) {\n    assertNumber(len);\n    if (typeof fn !== 'function')\n        throw new Error('checksum fn should be function');\n    return {\n        encode(data) {\n            if (!(data instanceof Uint8Array))\n                throw new Error('checksum.encode: input should be Uint8Array');\n            const checksum = fn(data).slice(0, len);\n            const res = new Uint8Array(data.length + len);\n            res.set(data);\n            res.set(checksum, data.length);\n            return res;\n        },\n        decode(data) {\n            if (!(data instanceof Uint8Array))\n                throw new Error('checksum.decode: input should be Uint8Array');\n            const payload = data.slice(0, -len);\n            const newChecksum = fn(payload).slice(0, len);\n            const oldChecksum = data.slice(-len);\n            for (let i = 0; i < len; i++)\n                if (newChecksum[i] !== oldChecksum[i])\n                    throw new Error('Invalid checksum');\n            return payload;\n        },\n    };\n}\nexport const utils = { alphabet, chain, checksum, radix, radix2, join, padding };\nexport const base16 = chain(radix2(4), alphabet('0123456789ABCDEF'), join(''));\nexport const base32 = chain(radix2(5), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZ234567'), padding(5), join(''));\nexport const base32hex = chain(radix2(5), alphabet('0123456789ABCDEFGHIJKLMNOPQRSTUV'), padding(5), join(''));\nexport const base32crockford = chain(radix2(5), alphabet('0123456789ABCDEFGHJKMNPQRSTVWXYZ'), join(''), normalize((s) => s.toUpperCase().replace(/O/g, '0').replace(/[IL]/g, '1')));\nexport const base64 = chain(radix2(6), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'), padding(6), join(''));\nexport const base64url = chain(radix2(6), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_'), padding(6), join(''));\nconst genBase58 = (abc) => chain(radix(58), alphabet(abc), join(''));\nexport const base58 = genBase58('123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz');\nexport const base58flickr = genBase58('123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ');\nexport const base58xrp = genBase58('rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz');\nconst XMR_BLOCK_LEN = [0, 2, 3, 5, 6, 7, 9, 10, 11];\nexport const base58xmr = {\n    encode(data) {\n        let res = '';\n        for (let i = 0; i < data.length; i += 8) {\n            const block = data.subarray(i, i + 8);\n            res += base58.encode(block).padStart(XMR_BLOCK_LEN[block.length], '1');\n        }\n        return res;\n    },\n    decode(str) {\n        let res = [];\n        for (let i = 0; i < str.length; i += 11) {\n            const slice = str.slice(i, i + 11);\n            const blockLen = XMR_BLOCK_LEN.indexOf(slice.length);\n            const block = base58.decode(slice);\n            for (let j = 0; j < block.length - blockLen; j++) {\n                if (block[j] !== 0)\n                    throw new Error('base58xmr: wrong padding');\n            }\n            res = res.concat(Array.from(block.slice(block.length - blockLen)));\n        }\n        return Uint8Array.from(res);\n    },\n};\nexport const base58check = (sha256) => chain(checksum(4, (data) => sha256(sha256(data))), base58);\nconst BECH_ALPHABET = chain(alphabet('qpzry9x8gf2tvdw0s3jn54khce6mua7l'), join(''));\nconst POLYMOD_GENERATORS = [0x3b6a57b2, 0x26508e6d, 0x1ea119fa, 0x3d4233dd, 0x2a1462b3];\nfunction bech32Polymod(pre) {\n    const b = pre >> 25;\n    let chk = (pre & 0x1ffffff) << 5;\n    for (let i = 0; i < POLYMOD_GENERATORS.length; i++) {\n        if (((b >> i) & 1) === 1)\n            chk ^= POLYMOD_GENERATORS[i];\n    }\n    return chk;\n}\nfunction bechChecksum(prefix, words, encodingConst = 1) {\n    const len = prefix.length;\n    let chk = 1;\n    for (let i = 0; i < len; i++) {\n        const c = prefix.charCodeAt(i);\n        if (c < 33 || c > 126)\n            throw new Error(`Invalid prefix (${prefix})`);\n        chk = bech32Polymod(chk) ^ (c >> 5);\n    }\n    chk = bech32Polymod(chk);\n    for (let i = 0; i < len; i++)\n        chk = bech32Polymod(chk) ^ (prefix.charCodeAt(i) & 0x1f);\n    for (let v of words)\n        chk = bech32Polymod(chk) ^ v;\n    for (let i = 0; i < 6; i++)\n        chk = bech32Polymod(chk);\n    chk ^= encodingConst;\n    return BECH_ALPHABET.encode(convertRadix2([chk % 2 ** 30], 30, 5, false));\n}\nfunction genBech32(encoding) {\n    const ENCODING_CONST = encoding === 'bech32' ? 1 : 0x2bc830a3;\n    const _words = radix2(5);\n    const fromWords = _words.decode;\n    const toWords = _words.encode;\n    const fromWordsUnsafe = unsafeWrapper(fromWords);\n    function encode(prefix, words, limit = 90) {\n        if (typeof prefix !== 'string')\n            throw new Error(`bech32.encode prefix should be string, not ${typeof prefix}`);\n        if (!Array.isArray(words) || (words.length && typeof words[0] !== 'number'))\n            throw new Error(`bech32.encode words should be array of numbers, not ${typeof words}`);\n        const actualLength = prefix.length + 7 + words.length;\n        if (limit !== false && actualLength > limit)\n            throw new TypeError(`Length ${actualLength} exceeds limit ${limit}`);\n        prefix = prefix.toLowerCase();\n        return `${prefix}1${BECH_ALPHABET.encode(words)}${bechChecksum(prefix, words, ENCODING_CONST)}`;\n    }\n    function decode(str, limit = 90) {\n        if (typeof str !== 'string')\n            throw new Error(`bech32.decode input should be string, not ${typeof str}`);\n        if (str.length < 8 || (limit !== false && str.length > limit))\n            throw new TypeError(`Wrong string length: ${str.length} (${str}). Expected (8..${limit})`);\n        const lowered = str.toLowerCase();\n        if (str !== lowered && str !== str.toUpperCase())\n            throw new Error(`String must be lowercase or uppercase`);\n        str = lowered;\n        const sepIndex = str.lastIndexOf('1');\n        if (sepIndex === 0 || sepIndex === -1)\n            throw new Error(`Letter \"1\" must be present between prefix and data only`);\n        const prefix = str.slice(0, sepIndex);\n        const _words = str.slice(sepIndex + 1);\n        if (_words.length < 6)\n            throw new Error('Data must be at least 6 characters long');\n        const words = BECH_ALPHABET.decode(_words).slice(0, -6);\n        const sum = bechChecksum(prefix, words, ENCODING_CONST);\n        if (!_words.endsWith(sum))\n            throw new Error(`Invalid checksum in ${str}: expected \"${sum}\"`);\n        return { prefix, words };\n    }\n    const decodeUnsafe = unsafeWrapper(decode);\n    function decodeToBytes(str) {\n        const { prefix, words } = decode(str, false);\n        return { prefix, words, bytes: fromWords(words) };\n    }\n    return { encode, decode, decodeToBytes, decodeUnsafe, fromWords, fromWordsUnsafe, toWords };\n}\nexport const bech32 = genBech32('bech32');\nexport const bech32m = genBech32('bech32m');\nexport const utf8 = {\n    encode: (data) => new TextDecoder().decode(data),\n    decode: (str) => new TextEncoder().encode(str),\n};\nexport const hex = chain(radix2(4), alphabet('0123456789abcdef'), join(''), normalize((s) => {\n    if (typeof s !== 'string' || s.length % 2)\n        throw new TypeError(`hex.decode: expected string, got ${typeof s} with length ${s.length}`);\n    return s.toLowerCase();\n}));\nconst CODERS = {\n    utf8, hex, base16, base32, base64, base64url, base58, base58xmr\n};\nconst coderTypeError = `Invalid encoding type. Available types: ${Object.keys(CODERS).join(', ')}`;\nexport const bytesToString = (type, bytes) => {\n    if (typeof type !== 'string' || !CODERS.hasOwnProperty(type))\n        throw new TypeError(coderTypeError);\n    if (!(bytes instanceof Uint8Array))\n        throw new TypeError('bytesToString() expects Uint8Array');\n    return CODERS[type].encode(bytes);\n};\nexport const str = bytesToString;\nexport const stringToBytes = (type, str) => {\n    if (!CODERS.hasOwnProperty(type))\n        throw new TypeError(coderTypeError);\n    if (typeof str !== 'string')\n        throw new TypeError('stringToBytes() expects string');\n    return CODERS[type].decode(str);\n};\nexport const bytes = stringToBytes;\n","import { bytes } from \"../utils\";\nimport { base58 } from \"@scure/base\";\nexport var CurveType;\n(function (CurveType) {\n    CurveType[CurveType[\"ED25519\"] = 0] = \"ED25519\";\n    CurveType[CurveType[\"SECP256K1\"] = 1] = \"SECP256K1\";\n})(CurveType || (CurveType = {}));\nvar DataLength;\n(function (DataLength) {\n    DataLength[DataLength[\"ED25519\"] = 32] = \"ED25519\";\n    DataLength[DataLength[\"SECP256K1\"] = 64] = \"SECP256K1\";\n})(DataLength || (DataLength = {}));\nfunction getCurveType(curveType) {\n    switch (curveType) {\n        case CurveType.ED25519:\n        case CurveType.SECP256K1:\n            return curveType;\n        default:\n            throw new UnknownCurve();\n    }\n}\nfunction dataLength(curveType) {\n    switch (curveType) {\n        case CurveType.ED25519:\n        case CurveType.SECP256K1:\n            return {\n                [CurveType.ED25519]: DataLength.ED25519,\n                [CurveType.SECP256K1]: DataLength.SECP256K1,\n            }[curveType];\n        default:\n            throw new UnknownCurve();\n    }\n}\nfunction splitKeyTypeData(value) {\n    const idx = value.indexOf(\":\");\n    if (idx >= 0) {\n        return [\n            curveTypeFromStr(value.substring(0, idx)),\n            value.substring(idx + 1),\n        ];\n    }\n    else {\n        return [CurveType.ED25519, value];\n    }\n}\nexport function curveTypeFromStr(value) {\n    switch (value) {\n        case \"ed25519\":\n            return CurveType.ED25519;\n        case \"secp256k1\":\n            return CurveType.SECP256K1;\n        default:\n            throw new UnknownCurve();\n    }\n}\nexport class ParsePublicKeyError extends Error {\n}\nexport class InvalidLengthError extends ParsePublicKeyError {\n    constructor(length, expectedLength) {\n        super(`Invalid length: ${length}. Expected: ${expectedLength}`);\n        this.length = length;\n        this.expectedLength = expectedLength;\n    }\n}\nexport class Base58Error extends ParsePublicKeyError {\n    constructor(error) {\n        super(`Base58 error: ${error}`);\n        this.error = error;\n    }\n}\nexport class UnknownCurve extends ParsePublicKeyError {\n    constructor() {\n        super(\"Unknown curve\");\n    }\n}\n/**\n * A abstraction on top of the NEAR public key string.\n */\nexport class PublicKey {\n    /**\n     * @param data - The string you want to create a PublicKey from.\n     */\n    constructor(data) {\n        const curveLenght = dataLength(data.charCodeAt(0));\n        if (data.length !== curveLenght + 1) {\n            throw new InvalidLengthError(data.length, curveLenght + 1);\n        }\n        this.type = getCurveType(data.charCodeAt(0));\n        this.data = data;\n    }\n    /**\n     * The curve type of the public key.\n     */\n    curveType() {\n        return this.type;\n    }\n    /**\n     * Create a public key from a public key string.\n     *\n     * @param publicKeyString - The public key string you want to create a PublicKey from.\n     */\n    static fromString(publicKeyString) {\n        const [curve, keyData] = splitKeyTypeData(publicKeyString);\n        let data;\n        try {\n            data = bytes(base58.decode(keyData));\n        }\n        catch (error) {\n            throw new Base58Error(error.message);\n        }\n        return new PublicKey(`${String.fromCharCode(curve)}${data}`);\n    }\n}\n","import { assert } from \"./utils\";\nimport { PromiseResult } from \"./types\";\nconst U64_MAX = 2n ** 64n - 1n;\nconst EVICTED_REGISTER = U64_MAX - 1n;\n/**\n * Logs parameters in the NEAR WASM virtual machine.\n *\n * @param params - Parameters to log.\n */\nexport function log(...params) {\n    env.log(params.reduce((accumulated, parameter, index) => {\n        // Stringify undefined\n        const param = parameter === undefined ? \"undefined\" : parameter;\n        // Convert Objects to strings and convert to string\n        const stringified = typeof param === \"object\" ? JSON.stringify(param) : `${param}`;\n        if (index === 0) {\n            return stringified;\n        }\n        return `${accumulated} ${stringified}`;\n    }, \"\"));\n}\n/**\n * Returns the account ID of the account that signed the transaction.\n * Can only be called in a call or initialize function.\n */\nexport function signerAccountId() {\n    env.signer_account_id(0);\n    return env.read_register(0);\n}\n/**\n * Returns the public key of the account that signed the transaction.\n * Can only be called in a call or initialize function.\n */\nexport function signerAccountPk() {\n    env.signer_account_pk(0);\n    return env.read_register(0);\n}\n/**\n * Returns the account ID of the account that called the function.\n * Can only be called in a call or initialize function.\n */\nexport function predecessorAccountId() {\n    env.predecessor_account_id(0);\n    return env.read_register(0);\n}\n/**\n * Returns the account ID of the current contract - the contract that is being executed.\n */\nexport function currentAccountId() {\n    env.current_account_id(0);\n    return env.read_register(0);\n}\n/**\n * Returns the current block index.\n */\nexport function blockIndex() {\n    return env.block_index();\n}\n/**\n * Returns the current block height.\n */\nexport function blockHeight() {\n    return blockIndex();\n}\n/**\n * Returns the current block timestamp.\n */\nexport function blockTimestamp() {\n    return env.block_timestamp();\n}\n/**\n * Returns the current epoch height.\n */\nexport function epochHeight() {\n    return env.epoch_height();\n}\n/**\n * Returns the amount of NEAR attached to this function call.\n * Can only be called in payable functions.\n */\nexport function attachedDeposit() {\n    return env.attached_deposit();\n}\n/**\n * Returns the amount of Gas that was attached to this function call.\n */\nexport function prepaidGas() {\n    return env.prepaid_gas();\n}\n/**\n * Returns the amount of Gas that has been used by this function call until now.\n */\nexport function usedGas() {\n    return env.used_gas();\n}\n/**\n * Returns the current account's account balance.\n */\nexport function accountBalance() {\n    return env.account_balance();\n}\n/**\n * Returns the current account's locked balance.\n */\nexport function accountLockedBalance() {\n    return env.account_locked_balance();\n}\n/**\n * Reads the value from NEAR storage that is stored under the provided key.\n *\n * @param key - The key to read from storage.\n */\nexport function storageRead(key) {\n    const returnValue = env.storage_read(key, 0);\n    if (returnValue !== 1n) {\n        return null;\n    }\n    return env.read_register(0);\n}\n/**\n * Checks for the existance of a value under the provided key in NEAR storage.\n *\n * @param key - The key to check for in storage.\n */\nexport function storageHasKey(key) {\n    return env.storage_has_key(key) === 1n;\n}\n/**\n * Get the last written or removed value from NEAR storage.\n */\nexport function storageGetEvicted() {\n    return env.read_register(EVICTED_REGISTER);\n}\n/**\n * Returns the current accounts NEAR storage usage.\n */\nexport function storageUsage() {\n    return env.storage_usage();\n}\n/**\n * Writes the provided bytes to NEAR storage under the provided key.\n *\n * @param key - The key under which to store the value.\n * @param value - The value to store.\n */\nexport function storageWrite(key, value) {\n    return env.storage_write(key, value, EVICTED_REGISTER) === 1n;\n}\n/**\n * Removes the value of the provided key from NEAR storage.\n *\n * @param key - The key to be removed.\n */\nexport function storageRemove(key) {\n    return env.storage_remove(key, EVICTED_REGISTER) === 1n;\n}\n/**\n * Returns the cost of storing 0 Byte on NEAR storage.\n */\nexport function storageByteCost() {\n    return 10000000000000000000n;\n}\n/**\n * Returns the arguments passed to the current smart contract call.\n */\nexport function input() {\n    env.input(0);\n    return env.read_register(0);\n}\n/**\n * Returns the value from the NEAR WASM virtual machine.\n *\n * @param value - The value to return.\n */\nexport function valueReturn(value) {\n    env.value_return(value);\n}\n/**\n * Returns a random string of bytes.\n */\nexport function randomSeed() {\n    env.random_seed(0);\n    return env.read_register(0);\n}\n/**\n * Create a NEAR promise call to a contract on the blockchain.\n *\n * @param accountId - The account ID of the target contract.\n * @param methodName - The name of the method to be called.\n * @param args - The arguments to call the method with.\n * @param amount - The amount of NEAR attached to the call.\n * @param gas - The amount of Gas attached to the call.\n */\nexport function promiseCreate(accountId, methodName, args, amount, gas) {\n    return env.promise_create(accountId, methodName, args, amount, gas);\n}\n/**\n * Attach a callback NEAR promise to be executed after a provided promise.\n *\n * @param promiseIndex - The promise after which to call the callback.\n * @param accountId - The account ID of the contract to perform the callback on.\n * @param methodName - The name of the method to call.\n * @param args - The arguments to call the method with.\n * @param amount - The amount of NEAR to attach to the call.\n * @param gas - The amount of Gas to attach to the call.\n */\nexport function promiseThen(promiseIndex, accountId, methodName, args, amount, gas) {\n    return env.promise_then(promiseIndex, accountId, methodName, args, amount, gas);\n}\n/**\n * Join an arbitrary array of NEAR promises.\n *\n * @param promiseIndexes - An arbitrary array of NEAR promise indexes to join.\n */\nexport function promiseAnd(...promiseIndexes) {\n    return env.promise_and(...promiseIndexes);\n}\n/**\n * Create a NEAR promise which will have multiple promise actions inside.\n *\n * @param accountId - The account ID of the target contract.\n */\nexport function promiseBatchCreate(accountId) {\n    return env.promise_batch_create(accountId);\n}\n/**\n * Attach a callback NEAR promise to a batch of NEAR promise actions.\n *\n * @param promiseIndex - The NEAR promise index of the batch.\n * @param accountId - The account ID of the target contract.\n */\nexport function promiseBatchThen(promiseIndex, accountId) {\n    return env.promise_batch_then(promiseIndex, accountId);\n}\n/**\n * Attach a create account promise action to the NEAR promise index with the provided promise index.\n *\n * @param promiseIndex - The index of the promise to attach a create account action to.\n */\nexport function promiseBatchActionCreateAccount(promiseIndex) {\n    env.promise_batch_action_create_account(promiseIndex);\n}\n/**\n * Attach a deploy contract promise action to the NEAR promise index with the provided promise index.\n *\n * @param promiseIndex - The index of the promise to attach a deploy contract action to.\n * @param code - The WASM byte code of the contract to be deployed.\n */\nexport function promiseBatchActionDeployContract(promiseIndex, code) {\n    env.promise_batch_action_deploy_contract(promiseIndex, code);\n}\n/**\n * Attach a function call promise action to the NEAR promise index with the provided promise index.\n *\n * @param promiseIndex - The index of the promise to attach a function call action to.\n * @param methodName - The name of the method to be called.\n * @param args - The arguments to call the method with.\n * @param amount - The amount of NEAR to attach to the call.\n * @param gas - The amount of Gas to attach to the call.\n */\nexport function promiseBatchActionFunctionCall(promiseIndex, methodName, args, amount, gas) {\n    env.promise_batch_action_function_call(promiseIndex, methodName, args, amount, gas);\n}\n/**\n * Attach a transfer promise action to the NEAR promise index with the provided promise index.\n *\n * @param promiseIndex - The index of the promise to attach a transfer action to.\n * @param amount - The amount of NEAR to transfer.\n */\nexport function promiseBatchActionTransfer(promiseIndex, amount) {\n    env.promise_batch_action_transfer(promiseIndex, amount);\n}\n/**\n * Attach a stake promise action to the NEAR promise index with the provided promise index.\n *\n * @param promiseIndex - The index of the promise to attach a stake action to.\n * @param amount - The amount of NEAR to stake.\n * @param publicKey - The public key with which to stake.\n */\nexport function promiseBatchActionStake(promiseIndex, amount, publicKey) {\n    env.promise_batch_action_stake(promiseIndex, amount, publicKey);\n}\n/**\n * Attach a add full access key promise action to the NEAR promise index with the provided promise index.\n *\n * @param promiseIndex - The index of the promise to attach a add full access key action to.\n * @param publicKey - The public key to add as a full access key.\n * @param nonce - The nonce to use.\n */\nexport function promiseBatchActionAddKeyWithFullAccess(promiseIndex, publicKey, nonce) {\n    env.promise_batch_action_add_key_with_full_access(promiseIndex, publicKey, nonce);\n}\n/**\n * Attach a add access key promise action to the NEAR promise index with the provided promise index.\n *\n * @param promiseIndex - The index of the promise to attach a add access key action to.\n * @param publicKey - The public key to add.\n * @param nonce - The nonce to use.\n * @param allowance - The allowance of the access key.\n * @param receiverId - The account ID of the receiver.\n * @param methodNames - The names of the method to allow the key for.\n */\nexport function promiseBatchActionAddKeyWithFunctionCall(promiseIndex, publicKey, nonce, allowance, receiverId, methodNames) {\n    env.promise_batch_action_add_key_with_function_call(promiseIndex, publicKey, nonce, allowance, receiverId, methodNames);\n}\n/**\n * Attach a delete key promise action to the NEAR promise index with the provided promise index.\n *\n * @param promiseIndex - The index of the promise to attach a delete key action to.\n * @param publicKey - The public key to delete.\n */\nexport function promiseBatchActionDeleteKey(promiseIndex, publicKey) {\n    env.promise_batch_action_delete_key(promiseIndex, publicKey);\n}\n/**\n * Attach a delete account promise action to the NEAR promise index with the provided promise index.\n *\n * @param promiseIndex - The index of the promise to attach a delete account action to.\n * @param beneficiaryId - The account ID of the beneficiary - the account that receives the remaining amount of NEAR.\n */\nexport function promiseBatchActionDeleteAccount(promiseIndex, beneficiaryId) {\n    env.promise_batch_action_delete_account(promiseIndex, beneficiaryId);\n}\n/**\n * Attach a function call with weight promise action to the NEAR promise index with the provided promise index.\n *\n * @param promiseIndex - The index of the promise to attach a function call with weight action to.\n * @param methodName - The name of the method to be called.\n * @param args - The arguments to call the method with.\n * @param amount - The amount of NEAR to attach to the call.\n * @param gas - The amount of Gas to attach to the call.\n * @param weight - The weight of unused Gas to use.\n */\nexport function promiseBatchActionFunctionCallWeight(promiseIndex, methodName, args, amount, gas, weight) {\n    env.promise_batch_action_function_call_weight(promiseIndex, methodName, args, amount, gas, weight);\n}\n/**\n * The number of promise results available.\n */\nexport function promiseResultsCount() {\n    return env.promise_results_count();\n}\n/**\n * Returns the result of the NEAR promise for the passed promise index.\n *\n * @param promiseIndex - The index of the promise to return the result for.\n */\nexport function promiseResult(promiseIndex) {\n    const status = env.promise_result(promiseIndex, 0);\n    assert(Number(status) === PromiseResult.Successful, `Promise result ${status == PromiseResult.Failed\n        ? \"Failed\"\n        : status == PromiseResult.NotReady\n            ? \"NotReady\"\n            : status}`);\n    return env.read_register(0);\n}\n/**\n * Executes the promise in the NEAR WASM virtual machine.\n *\n * @param promiseIndex - The index of the promise to execute.\n */\nexport function promiseReturn(promiseIndex) {\n    env.promise_return(promiseIndex);\n}\nexport function sha256(value) {\n    env.sha256(value, 0);\n    return env.read_register(0);\n}\nexport function keccak256(value) {\n    env.keccak256(value, 0);\n    return env.read_register(0);\n}\nexport function keccak512(value) {\n    env.keccak512(value, 0);\n    return env.read_register(0);\n}\nexport function ripemd160(value) {\n    env.ripemd160(value, 0);\n    return env.read_register(0);\n}\nexport function ecrecover(hash, sig, v, malleabilityFlag) {\n    const returnValue = env.ecrecover(hash, sig, v, malleabilityFlag, 0);\n    if (returnValue === 0n) {\n        return null;\n    }\n    return env.read_register(0);\n}\n// NOTE: \"env.panic(msg)\" is not exported, use \"throw Error(msg)\" instead\nexport function panicUtf8(msg) {\n    env.panic_utf8(msg);\n}\nexport function logUtf8(msg) {\n    env.log_utf8(msg);\n}\nexport function logUtf16(msg) {\n    env.log_utf16(msg);\n}\nexport function validatorStake(accountId) {\n    return env.validator_stake(accountId);\n}\nexport function validatorTotalStake() {\n    return env.validator_total_stake();\n}\nexport function altBn128G1Multiexp(value) {\n    env.alt_bn128_g1_multiexp(value, 0);\n    return env.read_register(0);\n}\nexport function altBn128G1Sum(value) {\n    env.alt_bn128_g1_sum(value, 0);\n    return env.read_register(0);\n}\nexport function altBn128PairingCheck(value) {\n    return env.alt_bn128_pairing_check(value) === 1n;\n}\n","import * as near from \"./api\";\nimport { deserialize, serialize } from \"./utils\";\n/**\n * Tells the SDK to use this function as the initialization function of the contract.\n *\n * @param _empty - An empty object.\n */\nexport function initialize(_empty) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return function (_target, _key, _descriptor\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    ) { };\n}\n/**\n * Tells the SDK to expose this function as a view function.\n *\n * @param _empty - An empty object.\n */\nexport function view(_empty) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return function (_target, _key, _descriptor\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    ) { };\n}\nexport function call({ privateFunction = false, payableFunction = false, }) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return function (_target, _key, descriptor) {\n        const originalMethod = descriptor.value;\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        descriptor.value = function (...args) {\n            if (privateFunction &&\n                near.predecessorAccountId() !== near.currentAccountId()) {\n                throw new Error(\"Function is private\");\n            }\n            if (!payableFunction && near.attachedDeposit() > 0n) {\n                throw new Error(\"Function is not payable\");\n            }\n            return originalMethod.apply(this, args);\n        };\n    };\n}\n/**\n * Tells the SDK to apply an array of passed in middleware to the function execution.\n *\n * @param middlewares - The middlewares to be executed.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function middleware(...middlewares) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return function (_target, _key, descriptor) {\n        const originalMethod = descriptor.value;\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        descriptor.value = function (...args) {\n            try {\n                middlewares.forEach((middleware) => middleware(...args));\n            }\n            catch (error) {\n                throw new Error(error);\n            }\n            return originalMethod.apply(this, args);\n        };\n    };\n}\nexport function NearBindgen({ requireInit = false, serializer = serialize, deserializer = deserialize, }) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return (target) => {\n        return class extends target {\n            static _create() {\n                return new target();\n            }\n            static _getState() {\n                const rawState = near.storageRead(\"STATE\");\n                return rawState ? this._deserialize(rawState) : null;\n            }\n            static _saveToStorage(objectToSave) {\n                near.storageWrite(\"STATE\", this._serialize(objectToSave));\n            }\n            static _getArgs() {\n                return JSON.parse(near.input() || \"{}\");\n            }\n            static _serialize(value, forReturn = false) {\n                if (forReturn) {\n                    return JSON.stringify(value, (_, value) => typeof value === \"bigint\" ? `${value}` : value);\n                }\n                return serializer(value);\n            }\n            static _deserialize(value) {\n                return deserializer(value);\n            }\n            static _reconstruct(classObject, plainObject) {\n                for (const item in classObject) {\n                    const reconstructor = classObject[item].constructor?.reconstruct;\n                    classObject[item] = reconstructor\n                        ? reconstructor(plainObject[item])\n                        : plainObject[item];\n                }\n                return classObject;\n            }\n            static _requireInit() {\n                return requireInit;\n            }\n        };\n    };\n}\n","import * as near from \"../api\";\nimport { getValueWithOptions, serializeValueWithOptions, } from \"../utils\";\n/**\n * A lookup map that stores data in NEAR storage.\n */\nexport class LookupMap {\n    /**\n     * @param keyPrefix - The byte prefix to use when storing elements inside this collection.\n     */\n    constructor(keyPrefix) {\n        this.keyPrefix = keyPrefix;\n    }\n    /**\n     * Checks whether the collection contains the value.\n     *\n     * @param key - The value for which to check the presence.\n     */\n    containsKey(key) {\n        const storageKey = this.keyPrefix + key;\n        return near.storageHasKey(storageKey);\n    }\n    /**\n     * Get the data stored at the provided key.\n     *\n     * @param key - The key at which to look for the data.\n     * @param options - Options for retrieving the data.\n     */\n    get(key, options) {\n        const storageKey = this.keyPrefix + key;\n        const value = near.storageRead(storageKey);\n        return getValueWithOptions(value, options);\n    }\n    /**\n     * Removes and retrieves the element with the provided key.\n     *\n     * @param key - The key at which to remove data.\n     * @param options - Options for retrieving the data.\n     */\n    remove(key, options) {\n        const storageKey = this.keyPrefix + key;\n        if (!near.storageRemove(storageKey)) {\n            return options?.defaultValue ?? null;\n        }\n        const value = near.storageGetEvicted();\n        return getValueWithOptions(value, options);\n    }\n    /**\n     * Store a new value at the provided key.\n     *\n     * @param key - The key at which to store in the collection.\n     * @param newValue - The value to store in the collection.\n     * @param options - Options for retrieving and storing the data.\n     */\n    set(key, newValue, options) {\n        const storageKey = this.keyPrefix + key;\n        const storageValue = serializeValueWithOptions(newValue, options);\n        if (!near.storageWrite(storageKey, storageValue)) {\n            return options?.defaultValue ?? null;\n        }\n        const value = near.storageGetEvicted();\n        return getValueWithOptions(value, options);\n    }\n    /**\n     * Extends the current collection with the passed in array of key-value pairs.\n     *\n     * @param keyValuePairs - The key-value pairs to extend the collection with.\n     * @param options - Options for storing the data.\n     */\n    extend(keyValuePairs, options) {\n        for (const [key, value] of keyValuePairs) {\n            this.set(key, value, options);\n        }\n    }\n    /**\n     * Serialize the collection.\n     *\n     * @param options - Options for storing the data.\n     */\n    serialize(options) {\n        return serializeValueWithOptions(this, options);\n    }\n    /**\n     * Converts the deserialized data from storage to a JavaScript instance of the collection.\n     *\n     * @param data - The deserialized data to create an instance from.\n     */\n    static reconstruct(data) {\n        return new LookupMap(data.keyPrefix);\n    }\n}\n","import * as near from \"../api\";\nimport { assert, getValueWithOptions, u8ArrayToBytes, serializeValueWithOptions, ERR_INCONSISTENT_STATE, ERR_INDEX_OUT_OF_BOUNDS, } from \"../utils\";\nfunction indexToKey(prefix, index) {\n    const data = new Uint32Array([index]);\n    const array = new Uint8Array(data.buffer);\n    const key = u8ArrayToBytes(array);\n    return prefix + key;\n}\n/**\n * An iterable implementation of vector that stores its content on the trie.\n * Uses the following map: index -> element\n */\nexport class Vector {\n    /**\n     * @param prefix - The byte prefix to use when storing elements inside this collection.\n     * @param length - The initial length of the collection. By default 0.\n     */\n    constructor(prefix, length = 0) {\n        this.prefix = prefix;\n        this.length = length;\n    }\n    /**\n     * Checks whether the collection is empty.\n     */\n    isEmpty() {\n        return this.length === 0;\n    }\n    /**\n     * Get the data stored at the provided index.\n     *\n     * @param index - The index at which to look for the data.\n     * @param options - Options for retrieving the data.\n     */\n    get(index, options) {\n        if (index >= this.length) {\n            return options?.defaultValue ?? null;\n        }\n        const storageKey = indexToKey(this.prefix, index);\n        const value = near.storageRead(storageKey);\n        return getValueWithOptions(value, options);\n    }\n    /**\n     * Removes an element from the vector and returns it in serialized form.\n     * The removed element is replaced by the last element of the vector.\n     * Does not preserve ordering, but is `O(1)`.\n     *\n     * @param index - The index at which to remove the element.\n     * @param options - Options for retrieving and storing the data.\n     */\n    swapRemove(index, options) {\n        assert(index < this.length, ERR_INDEX_OUT_OF_BOUNDS);\n        if (index + 1 === this.length) {\n            return this.pop(options);\n        }\n        const key = indexToKey(this.prefix, index);\n        const last = this.pop(options);\n        assert(near.storageWrite(key, serializeValueWithOptions(last, options)), ERR_INCONSISTENT_STATE);\n        const value = near.storageGetEvicted();\n        return getValueWithOptions(value, options);\n    }\n    /**\n     * Adds data to the collection.\n     *\n     * @param element - The data to store.\n     * @param options - Options for storing the data.\n     */\n    push(element, options) {\n        const key = indexToKey(this.prefix, this.length);\n        this.length += 1;\n        near.storageWrite(key, serializeValueWithOptions(element, options));\n    }\n    /**\n     * Removes and retrieves the element with the highest index.\n     *\n     * @param options - Options for retrieving the data.\n     */\n    pop(options) {\n        if (this.isEmpty()) {\n            return options?.defaultValue ?? null;\n        }\n        const lastIndex = this.length - 1;\n        const lastKey = indexToKey(this.prefix, lastIndex);\n        this.length -= 1;\n        assert(near.storageRemove(lastKey), ERR_INCONSISTENT_STATE);\n        const value = near.storageGetEvicted();\n        return getValueWithOptions(value, options);\n    }\n    /**\n     * Replaces the data stored at the provided index with the provided data and returns the previously stored data.\n     *\n     * @param index - The index at which to replace the data.\n     * @param element - The data to replace with.\n     * @param options - Options for retrieving and storing the data.\n     */\n    replace(index, element, options) {\n        assert(index < this.length, ERR_INDEX_OUT_OF_BOUNDS);\n        const key = indexToKey(this.prefix, index);\n        assert(near.storageWrite(key, serializeValueWithOptions(element, options)), ERR_INCONSISTENT_STATE);\n        const value = near.storageGetEvicted();\n        return getValueWithOptions(value, options);\n    }\n    /**\n     * Extends the current collection with the passed in array of elements.\n     *\n     * @param elements - The elements to extend the collection with.\n     */\n    extend(elements) {\n        for (const element of elements) {\n            this.push(element);\n        }\n    }\n    [Symbol.iterator]() {\n        return new VectorIterator(this);\n    }\n    /**\n     * Create a iterator on top of the default collection iterator using custom options.\n     *\n     * @param options - Options for retrieving and storing the data.\n     */\n    createIteratorWithOptions(options) {\n        return {\n            [Symbol.iterator]: () => new VectorIterator(this, options),\n        };\n    }\n    /**\n     * Return a JavaScript array of the data stored within the collection.\n     *\n     * @param options - Options for retrieving and storing the data.\n     */\n    toArray(options) {\n        const array = [];\n        const iterator = options ? this.createIteratorWithOptions(options) : this;\n        for (const value of iterator) {\n            array.push(value);\n        }\n        return array;\n    }\n    /**\n     * Remove all of the elements stored within the collection.\n     */\n    clear() {\n        for (let index = 0; index < this.length; index++) {\n            const key = indexToKey(this.prefix, index);\n            near.storageRemove(key);\n        }\n        this.length = 0;\n    }\n    /**\n     * Serialize the collection.\n     *\n     * @param options - Options for storing the data.\n     */\n    serialize(options) {\n        return serializeValueWithOptions(this, options);\n    }\n    /**\n     * Converts the deserialized data from storage to a JavaScript instance of the collection.\n     *\n     * @param data - The deserialized data to create an instance from.\n     */\n    static reconstruct(data) {\n        const vector = new Vector(data.prefix, data.length);\n        return vector;\n    }\n}\n/**\n * An iterator for the Vector collection.\n */\nexport class VectorIterator {\n    /**\n     * @param vector - The vector collection to create an iterator for.\n     * @param options - Options for retrieving and storing data.\n     */\n    constructor(vector, options) {\n        this.vector = vector;\n        this.options = options;\n        this.current = 0;\n    }\n    next() {\n        if (this.current >= this.vector.length) {\n            return { value: null, done: true };\n        }\n        const value = this.vector.get(this.current, this.options);\n        this.current += 1;\n        return { value, done: false };\n    }\n}\n","import { assert, ERR_INCONSISTENT_STATE, getValueWithOptions, serializeValueWithOptions, } from \"../utils\";\nimport { Vector, VectorIterator } from \"./vector\";\nimport { LookupMap } from \"./lookup-map\";\n/**\n * An unordered map that stores data in NEAR storage.\n */\nexport class UnorderedMap {\n    /**\n     * @param prefix - The byte prefix to use when storing elements inside this collection.\n     */\n    constructor(prefix) {\n        this.prefix = prefix;\n        this.keys = new Vector(`${prefix}u`); // intentional different prefix with old UnorderedMap\n        this.values = new LookupMap(`${prefix}m`);\n    }\n    /**\n     * The number of elements stored in the collection.\n     */\n    get length() {\n        return this.keys.length;\n    }\n    /**\n     * Checks whether the collection is empty.\n     */\n    isEmpty() {\n        return this.keys.isEmpty();\n    }\n    /**\n     * Get the data stored at the provided key.\n     *\n     * @param key - The key at which to look for the data.\n     * @param options - Options for retrieving the data.\n     */\n    get(key, options) {\n        const valueAndIndex = this.values.get(key);\n        if (valueAndIndex === null) {\n            return options?.defaultValue ?? null;\n        }\n        const [value] = valueAndIndex;\n        return getValueWithOptions(value, options);\n    }\n    /**\n     * Store a new value at the provided key.\n     *\n     * @param key - The key at which to store in the collection.\n     * @param value - The value to store in the collection.\n     * @param options - Options for retrieving and storing the data.\n     */\n    set(key, value, options) {\n        const valueAndIndex = this.values.get(key);\n        const serialized = serializeValueWithOptions(value, options);\n        if (valueAndIndex === null) {\n            const newElementIndex = this.length;\n            this.keys.push(key);\n            this.values.set(key, [serialized, newElementIndex]);\n            return null;\n        }\n        const [oldValue, oldIndex] = valueAndIndex;\n        this.values.set(key, [serialized, oldIndex]);\n        return getValueWithOptions(oldValue, options);\n    }\n    /**\n     * Removes and retrieves the element with the provided key.\n     *\n     * @param key - The key at which to remove data.\n     * @param options - Options for retrieving the data.\n     */\n    remove(key, options) {\n        const oldValueAndIndex = this.values.remove(key);\n        if (oldValueAndIndex === null) {\n            return options?.defaultValue ?? null;\n        }\n        const [value, index] = oldValueAndIndex;\n        assert(this.keys.swapRemove(index) !== null, ERR_INCONSISTENT_STATE);\n        // the last key is swapped to key[index], the corresponding [value, index] need update\n        if (!this.keys.isEmpty() && index !== this.keys.length) {\n            // if there is still elements and it was not the last element\n            const swappedKey = this.keys.get(index);\n            const swappedValueAndIndex = this.values.get(swappedKey);\n            assert(swappedValueAndIndex !== null, ERR_INCONSISTENT_STATE);\n            this.values.set(swappedKey, [swappedValueAndIndex[0], index]);\n        }\n        return getValueWithOptions(value, options);\n    }\n    /**\n     * Remove all of the elements stored within the collection.\n     */\n    clear() {\n        for (const key of this.keys) {\n            // Set instead of remove to avoid loading the value from storage.\n            this.values.set(key, null);\n        }\n        this.keys.clear();\n    }\n    [Symbol.iterator]() {\n        return new UnorderedMapIterator(this);\n    }\n    /**\n     * Create a iterator on top of the default collection iterator using custom options.\n     *\n     * @param options - Options for retrieving and storing the data.\n     */\n    createIteratorWithOptions(options) {\n        return {\n            [Symbol.iterator]: () => new UnorderedMapIterator(this, options),\n        };\n    }\n    /**\n     * Return a JavaScript array of the data stored within the collection.\n     *\n     * @param options - Options for retrieving and storing the data.\n     */\n    toArray(options) {\n        const array = [];\n        const iterator = options ? this.createIteratorWithOptions(options) : this;\n        for (const value of iterator) {\n            array.push(value);\n        }\n        return array;\n    }\n    /**\n     * Extends the current collection with the passed in array of key-value pairs.\n     *\n     * @param keyValuePairs - The key-value pairs to extend the collection with.\n     */\n    extend(keyValuePairs) {\n        for (const [key, value] of keyValuePairs) {\n            this.set(key, value);\n        }\n    }\n    /**\n     * Serialize the collection.\n     *\n     * @param options - Options for storing the data.\n     */\n    serialize(options) {\n        return serializeValueWithOptions(this, options);\n    }\n    /**\n     * Converts the deserialized data from storage to a JavaScript instance of the collection.\n     *\n     * @param data - The deserialized data to create an instance from.\n     */\n    static reconstruct(data) {\n        const map = new UnorderedMap(data.prefix);\n        // reconstruct keys Vector\n        map.keys = new Vector(`${data.prefix}u`);\n        map.keys.length = data.keys.length;\n        // reconstruct values LookupMap\n        map.values = new LookupMap(`${data.prefix}m`);\n        return map;\n    }\n}\n/**\n * An iterator for the UnorderedMap collection.\n */\nclass UnorderedMapIterator {\n    /**\n     * @param unorderedMap - The unordered map collection to create an iterator for.\n     * @param options - Options for retrieving and storing data.\n     */\n    constructor(unorderedMap, options) {\n        this.options = options;\n        this.keys = new VectorIterator(unorderedMap.keys);\n        this.map = unorderedMap.values;\n    }\n    next() {\n        const key = this.keys.next();\n        if (key.done) {\n            return { value: [key.value, null], done: key.done };\n        }\n        const valueAndIndex = this.map.get(key.value);\n        assert(valueAndIndex !== null, ERR_INCONSISTENT_STATE);\n        return {\n            done: key.done,\n            value: [key.value, getValueWithOptions(valueAndIndex[0], this.options)],\n        };\n    }\n}\n","import * as near from \"../api\";\nimport { u8ArrayToBytes, bytesToU8Array, assert, serializeValueWithOptions, ERR_INCONSISTENT_STATE, } from \"../utils\";\nimport { Vector, VectorIterator } from \"./vector\";\nfunction serializeIndex(index) {\n    const data = new Uint32Array([index]);\n    const array = new Uint8Array(data.buffer);\n    return u8ArrayToBytes(array);\n}\nfunction deserializeIndex(rawIndex) {\n    const array = bytesToU8Array(rawIndex);\n    const [data] = new Uint32Array(array.buffer);\n    return data;\n}\n/**\n * An unordered set that stores data in NEAR storage.\n */\nexport class UnorderedSet {\n    /**\n     * @param prefix - The byte prefix to use when storing elements inside this collection.\n     */\n    constructor(prefix) {\n        this.prefix = prefix;\n        this.elementIndexPrefix = `${prefix}i`;\n        this.elements = new Vector(`${prefix}e`);\n    }\n    /**\n     * The number of elements stored in the collection.\n     */\n    get length() {\n        return this.elements.length;\n    }\n    /**\n     * Checks whether the collection is empty.\n     */\n    isEmpty() {\n        return this.elements.isEmpty();\n    }\n    /**\n     * Checks whether the collection contains the value.\n     *\n     * @param element - The value for which to check the presence.\n     * @param options - Options for storing data.\n     */\n    contains(element, options) {\n        const indexLookup = this.elementIndexPrefix + serializeValueWithOptions(element, options);\n        return near.storageHasKey(indexLookup);\n    }\n    /**\n     * If the set did not have this value present, `true` is returned.\n     * If the set did have this value present, `false` is returned.\n     *\n     * @param element - The value to store in the collection.\n     * @param options - Options for storing the data.\n     */\n    set(element, options) {\n        const indexLookup = this.elementIndexPrefix + serializeValueWithOptions(element, options);\n        if (near.storageRead(indexLookup)) {\n            return false;\n        }\n        const nextIndex = this.length;\n        const nextIndexRaw = serializeIndex(nextIndex);\n        near.storageWrite(indexLookup, nextIndexRaw);\n        this.elements.push(element, options);\n        return true;\n    }\n    /**\n     * Returns true if the element was present in the set.\n     *\n     * @param element - The entry to remove.\n     * @param options - Options for retrieving and storing data.\n     */\n    remove(element, options) {\n        const indexLookup = this.elementIndexPrefix + serializeValueWithOptions(element, options);\n        const indexRaw = near.storageRead(indexLookup);\n        if (!indexRaw) {\n            return false;\n        }\n        // If there is only one element then swap remove simply removes it without\n        // swapping with the last element.\n        if (this.length === 1) {\n            near.storageRemove(indexLookup);\n            const index = deserializeIndex(indexRaw);\n            this.elements.swapRemove(index);\n            return true;\n        }\n        // If there is more than one element then swap remove swaps it with the last\n        // element.\n        const lastElement = this.elements.get(this.length - 1, options);\n        assert(!!lastElement, ERR_INCONSISTENT_STATE);\n        near.storageRemove(indexLookup);\n        // If the removed element was the last element from keys, then we don't need to\n        // reinsert the lookup back.\n        if (lastElement !== element) {\n            const lastLookupElement = this.elementIndexPrefix +\n                serializeValueWithOptions(lastElement, options);\n            near.storageWrite(lastLookupElement, indexRaw);\n        }\n        const index = deserializeIndex(indexRaw);\n        this.elements.swapRemove(index);\n        return true;\n    }\n    /**\n     * Remove all of the elements stored within the collection.\n     */\n    clear(options) {\n        for (const element of this.elements) {\n            const indexLookup = this.elementIndexPrefix + serializeValueWithOptions(element, options);\n            near.storageRemove(indexLookup);\n        }\n        this.elements.clear();\n    }\n    [Symbol.iterator]() {\n        return this.elements[Symbol.iterator]();\n    }\n    /**\n     * Create a iterator on top of the default collection iterator using custom options.\n     *\n     * @param options - Options for retrieving and storing the data.\n     */\n    createIteratorWithOptions(options) {\n        return {\n            [Symbol.iterator]: () => new VectorIterator(this.elements, options),\n        };\n    }\n    /**\n     * Return a JavaScript array of the data stored within the collection.\n     *\n     * @param options - Options for retrieving and storing the data.\n     */\n    toArray(options) {\n        const array = [];\n        const iterator = options ? this.createIteratorWithOptions(options) : this;\n        for (const value of iterator) {\n            array.push(value);\n        }\n        return array;\n    }\n    /**\n     * Extends the current collection with the passed in array of elements.\n     *\n     * @param elements - The elements to extend the collection with.\n     */\n    extend(elements) {\n        for (const element of elements) {\n            this.set(element);\n        }\n    }\n    /**\n     * Serialize the collection.\n     *\n     * @param options - Options for storing the data.\n     */\n    serialize(options) {\n        return serializeValueWithOptions(this, options);\n    }\n    /**\n     * Converts the deserialized data from storage to a JavaScript instance of the collection.\n     *\n     * @param data - The deserialized data to create an instance from.\n     */\n    static reconstruct(data) {\n        const set = new UnorderedSet(data.prefix);\n        // reconstruct Vector\n        const elementsPrefix = data.prefix + \"e\";\n        set.elements = new Vector(elementsPrefix);\n        set.elements.length = data.elements.length;\n        return set;\n    }\n}\n","import { assert } from \"./utils\";\nimport * as near from \"./api\";\n/**\n * A promise action which can be executed on the NEAR blockchain.\n */\nexport class PromiseAction {\n}\n/**\n * A create account promise action.\n *\n * @extends {PromiseAction}\n */\nexport class CreateAccount extends PromiseAction {\n    add(promiseIndex) {\n        near.promiseBatchActionCreateAccount(promiseIndex);\n    }\n}\n/**\n * A deploy contract promise action.\n *\n * @extends {PromiseAction}\n */\nexport class DeployContract extends PromiseAction {\n    /**\n     * @param code - The code of the contract to be deployed.\n     */\n    constructor(code) {\n        super();\n        this.code = code;\n    }\n    add(promiseIndex) {\n        near.promiseBatchActionDeployContract(promiseIndex, this.code);\n    }\n}\n/**\n * A function call promise action.\n *\n * @extends {PromiseAction}\n */\nexport class FunctionCall extends PromiseAction {\n    /**\n     * @param functionName - The name of the function to be called.\n     * @param args - The arguments to be passed to the function.\n     * @param amount - The amount of NEAR to attach to the call.\n     * @param gas - The amount of Gas to attach to the call.\n     */\n    constructor(functionName, args, amount, gas) {\n        super();\n        this.functionName = functionName;\n        this.args = args;\n        this.amount = amount;\n        this.gas = gas;\n    }\n    add(promiseIndex) {\n        near.promiseBatchActionFunctionCall(promiseIndex, this.functionName, this.args, this.amount, this.gas);\n    }\n}\n/**\n * A function call weight promise action.\n *\n * @extends {PromiseAction}\n */\nexport class FunctionCallWeight extends PromiseAction {\n    /**\n     * @param functionName - The name of the function to be called.\n     * @param args - The arguments to be passed to the function.\n     * @param amount - The amount of NEAR to attach to the call.\n     * @param gas - The amount of Gas to attach to the call.\n     * @param weight - The weight of unused Gas to use.\n     */\n    constructor(functionName, args, amount, gas, weight) {\n        super();\n        this.functionName = functionName;\n        this.args = args;\n        this.amount = amount;\n        this.gas = gas;\n        this.weight = weight;\n    }\n    add(promiseIndex) {\n        near.promiseBatchActionFunctionCallWeight(promiseIndex, this.functionName, this.args, this.amount, this.gas, this.weight);\n    }\n}\n/**\n * A transfer promise action.\n *\n * @extends {PromiseAction}\n */\nexport class Transfer extends PromiseAction {\n    /**\n     * @param amount - The amount of NEAR to tranfer.\n     */\n    constructor(amount) {\n        super();\n        this.amount = amount;\n    }\n    add(promiseIndex) {\n        near.promiseBatchActionTransfer(promiseIndex, this.amount);\n    }\n}\n/**\n * A stake promise action.\n *\n * @extends {PromiseAction}\n */\nexport class Stake extends PromiseAction {\n    /**\n     * @param amount - The amount of NEAR to tranfer.\n     * @param publicKey - The public key to use for staking.\n     */\n    constructor(amount, publicKey) {\n        super();\n        this.amount = amount;\n        this.publicKey = publicKey;\n    }\n    add(promiseIndex) {\n        near.promiseBatchActionStake(promiseIndex, this.amount, this.publicKey.data);\n    }\n}\n/**\n * A add full access key promise action.\n *\n * @extends {PromiseAction}\n */\nexport class AddFullAccessKey extends PromiseAction {\n    /**\n     * @param publicKey - The public key to add as a full access key.\n     * @param nonce - The nonce to use.\n     */\n    constructor(publicKey, nonce) {\n        super();\n        this.publicKey = publicKey;\n        this.nonce = nonce;\n    }\n    add(promiseIndex) {\n        near.promiseBatchActionAddKeyWithFullAccess(promiseIndex, this.publicKey.data, this.nonce);\n    }\n}\n/**\n * A add access key promise action.\n *\n * @extends {PromiseAction}\n */\nexport class AddAccessKey extends PromiseAction {\n    /**\n     * @param publicKey - The public key to add as a access key.\n     * @param allowance - The allowance for the key in yoctoNEAR.\n     * @param receiverId - The account ID of the reciever.\n     * @param functionNames - The names of funcitons to authorize.\n     * @param nonce - The nonce to use.\n     */\n    constructor(publicKey, allowance, receiverId, functionNames, nonce) {\n        super();\n        this.publicKey = publicKey;\n        this.allowance = allowance;\n        this.receiverId = receiverId;\n        this.functionNames = functionNames;\n        this.nonce = nonce;\n    }\n    add(promiseIndex) {\n        near.promiseBatchActionAddKeyWithFunctionCall(promiseIndex, this.publicKey.data, this.nonce, this.allowance, this.receiverId, this.functionNames);\n    }\n}\n/**\n * A delete key promise action.\n *\n * @extends {PromiseAction}\n */\nexport class DeleteKey extends PromiseAction {\n    /**\n     * @param publicKey - The public key to delete from the account.\n     */\n    constructor(publicKey) {\n        super();\n        this.publicKey = publicKey;\n    }\n    add(promiseIndex) {\n        near.promiseBatchActionDeleteKey(promiseIndex, this.publicKey.data);\n    }\n}\n/**\n * A delete account promise action.\n *\n * @extends {PromiseAction}\n */\nexport class DeleteAccount extends PromiseAction {\n    /**\n     * @param beneficiaryId - The beneficiary of the account deletion - the account to recieve all of the remaining funds of the deleted account.\n     */\n    constructor(beneficiaryId) {\n        super();\n        this.beneficiaryId = beneficiaryId;\n    }\n    add(promiseIndex) {\n        near.promiseBatchActionDeleteAccount(promiseIndex, this.beneficiaryId);\n    }\n}\nclass PromiseSingle {\n    constructor(accountId, actions, after, promiseIndex) {\n        this.accountId = accountId;\n        this.actions = actions;\n        this.after = after;\n        this.promiseIndex = promiseIndex;\n    }\n    constructRecursively() {\n        if (this.promiseIndex !== null) {\n            return this.promiseIndex;\n        }\n        const promiseIndex = this.after\n            ? near.promiseBatchThen(this.after.constructRecursively(), this.accountId)\n            : near.promiseBatchCreate(this.accountId);\n        this.actions.forEach((action) => action.add(promiseIndex));\n        this.promiseIndex = promiseIndex;\n        return promiseIndex;\n    }\n}\nexport class PromiseJoint {\n    constructor(promiseA, promiseB, promiseIndex) {\n        this.promiseA = promiseA;\n        this.promiseB = promiseB;\n        this.promiseIndex = promiseIndex;\n    }\n    constructRecursively() {\n        if (this.promiseIndex !== null) {\n            return this.promiseIndex;\n        }\n        const result = near.promiseAnd(this.promiseA.constructRecursively(), this.promiseB.constructRecursively());\n        this.promiseIndex = result;\n        return result;\n    }\n}\n/**\n * A high level class to construct and work with NEAR promises.\n */\nexport class NearPromise {\n    /**\n     * @param subtype - The subtype of the promise.\n     * @param shouldReturn - Whether the promise should return.\n     */\n    constructor(subtype, shouldReturn) {\n        this.subtype = subtype;\n        this.shouldReturn = shouldReturn;\n    }\n    /**\n     * Creates a new promise to the provided account ID.\n     *\n     * @param accountId - The account ID on which to call the promise.\n     */\n    static new(accountId) {\n        const subtype = new PromiseSingle(accountId, [], null, null);\n        return new NearPromise(subtype, false);\n    }\n    addAction(action) {\n        if (this.subtype instanceof PromiseJoint) {\n            throw new Error(\"Cannot add action to a joint promise.\");\n        }\n        this.subtype.actions.push(action);\n        return this;\n    }\n    /**\n     * Creates a create account promise action and adds it to the current promise.\n     */\n    createAccount() {\n        return this.addAction(new CreateAccount());\n    }\n    /**\n     * Creates a deploy contract promise action and adds it to the current promise.\n     *\n     * @param code - The code of the contract to be deployed.\n     */\n    deployContract(code) {\n        return this.addAction(new DeployContract(code));\n    }\n    /**\n     * Creates a function call promise action and adds it to the current promise.\n     *\n     * @param functionName - The name of the function to be called.\n     * @param args - The arguments to be passed to the function.\n     * @param amount - The amount of NEAR to attach to the call.\n     * @param gas - The amount of Gas to attach to the call.\n     */\n    functionCall(functionName, args, amount, gas) {\n        return this.addAction(new FunctionCall(functionName, args, amount, gas));\n    }\n    /**\n     * Creates a function call weight promise action and adds it to the current promise.\n     *\n     * @param functionName - The name of the function to be called.\n     * @param args - The arguments to be passed to the function.\n     * @param amount - The amount of NEAR to attach to the call.\n     * @param gas - The amount of Gas to attach to the call.\n     * @param weight - The weight of unused Gas to use.\n     */\n    functionCallWeight(functionName, args, amount, gas, weight) {\n        return this.addAction(new FunctionCallWeight(functionName, args, amount, gas, weight));\n    }\n    /**\n     * Creates a transfer promise action and adds it to the current promise.\n     *\n     * @param amount - The amount of NEAR to tranfer.\n     */\n    transfer(amount) {\n        return this.addAction(new Transfer(amount));\n    }\n    /**\n     * Creates a stake promise action and adds it to the current promise.\n     *\n     * @param amount - The amount of NEAR to tranfer.\n     * @param publicKey - The public key to use for staking.\n     */\n    stake(amount, publicKey) {\n        return this.addAction(new Stake(amount, publicKey));\n    }\n    /**\n     * Creates a add full access key promise action and adds it to the current promise.\n     * Uses 0n as the nonce.\n     *\n     * @param publicKey - The public key to add as a full access key.\n     */\n    addFullAccessKey(publicKey) {\n        return this.addFullAccessKeyWithNonce(publicKey, 0n);\n    }\n    /**\n     * Creates a add full access key promise action and adds it to the current promise.\n     * Allows you to specify the nonce.\n     *\n     * @param publicKey - The public key to add as a full access key.\n     * @param nonce - The nonce to use.\n     */\n    addFullAccessKeyWithNonce(publicKey, nonce) {\n        return this.addAction(new AddFullAccessKey(publicKey, nonce));\n    }\n    /**\n     * Creates a add access key promise action and adds it to the current promise.\n     * Uses 0n as the nonce.\n     *\n     * @param publicKey - The public key to add as a access key.\n     * @param allowance - The allowance for the key in yoctoNEAR.\n     * @param receiverId - The account ID of the reciever.\n     * @param functionNames - The names of funcitons to authorize.\n     */\n    addAccessKey(publicKey, allowance, receiverId, functionNames) {\n        return this.addAccessKeyWithNonce(publicKey, allowance, receiverId, functionNames, 0n);\n    }\n    /**\n     * Creates a add access key promise action and adds it to the current promise.\n     * Allows you to specify the nonce.\n     *\n     * @param publicKey - The public key to add as a access key.\n     * @param allowance - The allowance for the key in yoctoNEAR.\n     * @param receiverId - The account ID of the reciever.\n     * @param functionNames - The names of funcitons to authorize.\n     * @param nonce - The nonce to use.\n     */\n    addAccessKeyWithNonce(publicKey, allowance, receiverId, functionNames, nonce) {\n        return this.addAction(new AddAccessKey(publicKey, allowance, receiverId, functionNames, nonce));\n    }\n    /**\n     * Creates a delete key promise action and adds it to the current promise.\n     *\n     * @param publicKey - The public key to delete from the account.\n     */\n    deleteKey(publicKey) {\n        return this.addAction(new DeleteKey(publicKey));\n    }\n    /**\n     * Creates a delete account promise action and adds it to the current promise.\n     *\n     * @param beneficiaryId - The beneficiary of the account deletion - the account to recieve all of the remaining funds of the deleted account.\n     */\n    deleteAccount(beneficiaryId) {\n        return this.addAction(new DeleteAccount(beneficiaryId));\n    }\n    /**\n     * Joins the provided promise with the current promise, making the current promise a joint promise subtype.\n     *\n     * @param other - The promise to join with the current promise.\n     */\n    and(other) {\n        const subtype = new PromiseJoint(this, other, null);\n        return new NearPromise(subtype, false);\n    }\n    /**\n     * Adds a callback to the current promise.\n     *\n     * @param other - The promise to be executed as the promise.\n     */\n    then(other) {\n        assert(other.subtype instanceof PromiseSingle, \"Cannot callback joint promise.\");\n        assert(other.subtype.after === null, \"Cannot callback promise which is already scheduled after another\");\n        other.subtype.after = this;\n        return other;\n    }\n    /**\n     * Sets the shouldReturn field to true.\n     */\n    asReturn() {\n        this.shouldReturn = true;\n        return this;\n    }\n    /**\n     * Recursively goes through the current promise to get the promise index.\n     */\n    constructRecursively() {\n        const result = this.subtype.constructRecursively();\n        if (this.shouldReturn) {\n            near.promiseReturn(result);\n        }\n        return result;\n    }\n    /**\n     * Called by NearBindgen, when return object is a NearPromise instance.\n     */\n    onReturn() {\n        this.asReturn().constructRecursively();\n    }\n}\n","import { near } from \"near-sdk-js\";\r\n\r\nexport abstract class NearEvent {\r\n  private internal_to_json_string(): string {\r\n    return JSON.stringify(this);\r\n  }\r\n\r\n  private internal_to_json_event_string(): string {\r\n    return `EVENT_JSON: ${this.internal_to_json_string()}`;\r\n  }\r\n\r\n  /**\r\n   * Logs the event to the host. This is required to ensure that the event is triggered\r\n   * and to consume the event.\r\n   */\r\n  emit(): void {\r\n    near.log(this.internal_to_json_event_string());\r\n  }\r\n}\r\n","/** Standard for nep171 (Non-Fungible Token) events.\r\n *\r\n * These events will be picked up by the NEAR indexer.\r\n *\r\n * <https://github.com/near/NEPs/blob/69f76c6c78c2ebf05d856347c9c98ae48ad84ebd/specs/Standards/NonFungibleToken/Event.md>\r\n *\r\n * This is an extension of the events format (nep-297):\r\n * <https://github.com/near/NEPs/blob/master/specs/Standards/EventsFormat.md>\r\n *\r\n * The three events in this standard are [`NftMint`], [`NftTransfer`], and [`NftBurn`].\r\n *\r\n * These events can be logged by calling `.emit()` on them if a single event, or calling\r\n * [`NftMint.emit_many`], [`NftTransfer.emit_many`],\r\n * or [`NftBurn.emit_many`] respectively.\r\n */\r\nimport { AccountId } from \"near-sdk-js/lib/types\"; \r\nimport { TokenId } from \"./token\";\r\nimport { NearEvent } from \"./event\";\r\nexport type Nep171EventKind = NftMint[] | NftTransfer[] | NftBurn[];\r\n\r\nexport class Nep171Event extends NearEvent {\r\n  version: string;\r\n  event_kind: Nep171EventKind;\r\n\r\n  constructor(version: string, event_kind: Nep171EventKind) {\r\n    super();\r\n    this.version = version;\r\n    this.event_kind = event_kind;\r\n  }\r\n}\r\n\r\n/** Data to log for an NFT mint event. To log this event, call `.emit()` */\r\nexport class NftMint {\r\n  constructor(\r\n    public owner_id: AccountId,\r\n    public token_ids: TokenId[],\r\n    public memo?: string\r\n  ) {}\r\n\r\n  /** Logs the event to the host. This is required to ensure that the event is triggered\r\n   * and to consume the event. */\r\n  emit() {\r\n    NftMint.emit_many([this]);\r\n  }\r\n\r\n  /** Emits an nft mint event, through `near.log`,\r\n   * where each [`NftMint`] represents the data of each mint. */\r\n  static emit_many(data: NftMint[]) {\r\n    new_171_v1(data).emit();\r\n  }\r\n}\r\n\r\n/** Data to log for an NFT transfer event. To log this event,\r\n * call [`.emit()`](NftTransfer.emit). */\r\nexport class NftTransfer {\r\n  constructor(\r\n    public old_owner_id: AccountId,\r\n    public new_owner_id: AccountId,\r\n    public token_ids: TokenId[],\r\n    public authorized_id?: AccountId,\r\n    public memo?: string\r\n  ) {}\r\n\r\n  /** Logs the event to the host. This is required to ensure that the event is triggered\r\n   * and to consume the event. */\r\n  emit() {\r\n    NftTransfer.emit_many([this]);\r\n  }\r\n\r\n  /** Emits an nft transfer event, through `near.log`,\r\n   * where each [`NftTransfer`] represents the data of each transfer. */\r\n  static emit_many(data: NftTransfer[]) {\r\n    new_171_v1(data).emit();\r\n  }\r\n}\r\n\r\n/** Data to log for an NFT burn event. To log this event, call [`.emit()`](NftBurn.emit). */\r\nexport class NftBurn {\r\n  constructor(\r\n    public owner_id: AccountId,\r\n    public token_ids: TokenId[],\r\n    public authorized_id?: string,\r\n    public memo?: string\r\n  ) {}\r\n\r\n  /** Logs the event to the host. This is required to ensure that the event is triggered\r\n   * and to consume the event. */\r\n  emit() {\r\n    NftBurn.emit_many([this]);\r\n  }\r\n\r\n  /** Emits an nft burn event, through `near.log`,\r\n   * where each [`NftBurn`] represents the data of each burn. */\r\n  static emit_many(data: NftBurn[]) {\r\n    new_171_v1(data).emit();\r\n  }\r\n}\r\n\r\nfunction new_171(version: string, event_kind: Nep171EventKind): NearEvent {\r\n  return new Nep171Event(version, event_kind);\r\n}\r\n\r\nfunction new_171_v1(event_kind: Nep171EventKind): NearEvent {\r\n  return new_171(\"1.0.0\", event_kind);\r\n}","import {\r\n  NearBindgen,\r\n  near,\r\n  call,\r\n  view,\r\n  initialize,\r\n  LookupMap,\r\n  UnorderedMap,\r\n  assert,\r\n} from \"near-sdk-js\";\r\n\r\n/** This spec can be treated like a version of the standard. */\r\nexport const NFT_METADATA_SPEC = \"nft-1.0.0\";\r\n\r\nexport class TokenMetadata {\r\n  // title: string | null; // ex. \"Arch Nemesis: Mail Carrier\" or \"Parcel #5055\"\r\n  // description: string | null; // free-form description\r\n  // media: string | null; // URL to associated media, preferably to decentralized, content-addressed storage\r\n  // media_hash: string | null; // Base64-encoded sha256 hash of content referenced by the `media` field. Required if `media` is included.\r\n  // copies: number | null; // number of copies of this set of metadata in existence when token was minted.\r\n  // issued_at: number | null; // When token was issued or minted, Unix epoch in milliseconds\r\n  // expires_at: number | null; // When token expires, Unix epoch in milliseconds\r\n  // starts_at: number | null; // When token starts being valid, Unix epoch in milliseconds\r\n  // updated_at: number | null; // When token was last updated, Unix epoch in milliseconds\r\n  // extra: string | null; // anything extra the NFT wants to store on-chain. Can be stringified JSON.\r\n  // reference: string | null; // URL to an off-chain JSON file with more info.\r\n  // reference_hash: string | null; // Base64-encoded sha256 hash of JSON from reference field. Required if `reference` is included.\r\n  constructor(\r\n    public title: string,\r\n    public description: string,\r\n    public media: string,\r\n    public media_hash: string,\r\n    public copies: bigint,\r\n    public issued_at: number,\r\n    public expires_at: number,\r\n    public starts_at: number,\r\n    public updated_at: number,\r\n    public extra: string,\r\n    public reference: string,\r\n    public reference_hash: string\r\n  ) {}\r\n\r\n  assert_valid() {\r\n    assert(\r\n      (this.media != null) == (this.media_hash != null),\r\n      \"Media and media hash must be present\"\r\n    );\r\n    if (this.media_hash != null) {\r\n      assert(this.media_hash.length == 32, \"Media hash has to be 32 bytes\");\r\n    }\r\n    if (this.media_hash != null) {\r\n      assert(this.media_hash.length == 32, \"Media hash has to be 32 bytes\");\r\n    }\r\n    assert(\r\n      (this.reference != null) == (this.reference_hash != null),\r\n      \"Reference and reference hash must be present\"\r\n    );\r\n    if (this.reference_hash != null) {\r\n      assert(\r\n        this.reference_hash.length == 32,\r\n        \"Reference hash has to be 32 bytes\"\r\n      );\r\n    }\r\n  }\r\n\r\n  static reconstruct(data: TokenMetadata): TokenMetadata {\r\n    return new TokenMetadata(\r\n      data.title,\r\n      data.description,\r\n      data.media,\r\n      data.media_hash,\r\n      data.copies,\r\n      data.issued_at,\r\n      data.expires_at,\r\n      data.starts_at,\r\n      data.updated_at,\r\n      data.extra,\r\n      data.reference,\r\n      data.reference_hash\r\n    );\r\n  }\r\n}\r\n\r\n/** Metadata for the NFT contract itself. */\r\nexport class NFTContractMetadata {\r\n  public spec: string; // required, essentially a version like \"nft-1.0.0\"\r\n  public name: string; // required, ex. \"Mosaics\"\r\n  public symbol: string; // required, ex. \"MOSIAC\"\r\n  public icon: string; // Data URL\r\n  public base_uri: string; // Centralized gateway known to have reliable access to decentralized storage assets referenced by `reference` or `media` URLs\r\n  public reference: string; // URL to a JSON file with more info\r\n  public reference_hash: string; // Base64-encoded sha256 hash of JSON from reference field. Required if `reference` is included.\r\n\r\n  constructor() {\r\n    this.spec = NFT_METADATA_SPEC;\r\n    this.name = \"\";\r\n    this.symbol = \"\";\r\n    this.icon = null;\r\n    this.base_uri = null;\r\n    this.reference = null;\r\n    this.reference_hash = null;\r\n  }\r\n\r\n  init(\r\n    spec: string,\r\n    name: string,\r\n    symbol: string,\r\n    icon: string,\r\n    base_uri: string,\r\n    reference: string,\r\n    reference_hash: string\r\n  ) {\r\n    this.spec = spec;\r\n    this.name = name;\r\n    this.symbol = symbol;\r\n    this.icon = icon;\r\n    this.base_uri = base_uri;\r\n    this.reference = reference;\r\n    this.reference_hash = reference_hash;\r\n  }\r\n\r\n  assert_valid() {\r\n    //metadata version not valid.\r\n    assert(this.spec == NFT_METADATA_SPEC, \"Spec is not NFT metadata\");\r\n    assert(\r\n      (this.reference != null) == (this.reference_hash != null),\r\n      \"Reference and reference hash must be present\"\r\n    );\r\n    if (this.reference_hash != null) {\r\n      assert(this.reference_hash.length == 32, \"Hash has to be 32 bytes\");\r\n    }\r\n  }\r\n\r\n  static reconstruct(data: NFTContractMetadata): NFTContractMetadata {\r\n    const metadata = new NFTContractMetadata();\r\n    Object.assign(metadata, data);\r\n    return metadata;\r\n  }\r\n}\r\n","import { AccountId } from \"near-sdk-js/lib/types\";\r\nimport { TokenMetadata } from \"./metadata\";\r\n\r\n/** Note that token IDs for NFTs are strings on NEAR. It's still fine to use autoincrementing numbers as unique IDs if desired, but they should be stringified. This is to make IDs more future-proof as chain-agnostic conventions and standards arise, and allows for more flexibility with considerations like bridging NFTs across chains, etc. */\r\nexport type TokenId = string;\r\n\r\n/** In this implementation, the Token struct takes two extensions standards (metadata and approval) as optional fields, as they are frequently used in modern NFTs. */\r\nexport class Token {\r\n  constructor(\r\n    public token_id: TokenId,\r\n    public owner_id: AccountId,\r\n    public metadata?: TokenMetadata,\r\n    public approved_account_ids?: {\r\n      [approved_account_id: AccountId]: bigint;\r\n    }\r\n  ) {}\r\n}\r\n\r\n\r\n\r\n","import { assert, near } from \"near-sdk-js\";\r\nimport { AccountId } from \"near-sdk-js/lib/types\";\r\nexport interface Env {\r\n  uint8array_to_latin1_string(a: Uint8Array): string;\r\n  uint8array_to_utf8_string(a: Uint8Array): string;\r\n  latin1_string_to_uint8array(s: string): Uint8Array;\r\n  utf8_string_to_uint8array(s: string): Uint8Array;\r\n}\r\n\r\ndeclare const env: Env;\r\n\r\nexport function refund_storage_deposit(\r\n  account_id: AccountId,\r\n  storage_released: number\r\n): void {\r\n  const promise_id = near.promiseBatchCreate(account_id);\r\n  near.promiseBatchActionTransfer(\r\n    promise_id,\r\n    BigInt(storage_released) * near.storageByteCost()\r\n  );\r\n  near.promiseReturn(promise_id);\r\n}\r\n\r\n/** Assert that at least 1 yoctoNEAR was attached. */\r\nexport function assert_at_least_one_yocto(): void {\r\n  assert(\r\n    near.attachedDeposit() >= 1n,\r\n    \"Requires attached deposit of at least 1 yoctoNEAR\"\r\n  );\r\n}\r\n/** Assert that exactly 1 yoctoNEAR was attached */\r\nexport function assert_one_yocto(): void {\r\n  assert(\r\n    near.attachedDeposit() === 1n,\r\n    \"Requires attached deposit of 1 yoctoNEAR\"\r\n  );\r\n}\r\n\r\nexport function refund_deposit_to_account(\r\n  storage_used: bigint,\r\n  account_id: AccountId\r\n): void {\r\n  const required_cost = near.storageByteCost() * storage_used;\r\n  const attached_deposit = near.attachedDeposit();\r\n\r\n  assert(\r\n    required_cost <= attached_deposit,\r\n    `Must attach ${required_cost} yoctoNEAR to cover storage`\r\n  );\r\n\r\n  const refund = attached_deposit - required_cost;\r\n  if (refund > 1n) {\r\n    const promise_id = near.promiseBatchCreate(account_id);\r\n    near.promiseBatchActionTransfer(promise_id, refund);\r\n    near.promiseReturn(promise_id);\r\n  }\r\n}\r\n\r\n/** Assumes that the precedecessor will be refunded */\r\nexport function refund_deposit(storage_used: bigint): void {\r\n  refund_deposit_to_account(storage_used, near.predecessorAccountId());\r\n}\r\n\r\n/**\r\n * Convert a Uint8Array to string, each uint8 to the single character of that char code\r\n * @param a - Uint8Array to convert\r\n * @returns result string\r\n */\r\nexport function str(a: Uint8Array): string {\r\n  return env.uint8array_to_latin1_string(a);\r\n}\r\n/**\r\n * When implemented, allow object to be stored as collection key\r\n */\r\nexport interface IntoStorageKey {\r\n  into_storage_key(): string;\r\n}\r\n","import {\r\n  assert,\r\n  LookupMap,\r\n  near,\r\n  NearPromise,\r\n  UnorderedMap,\r\n  UnorderedSet,\r\n} from \"near-sdk-js\";\r\nimport { AccountId } from \"near-sdk-js/lib/types\";\r\nimport { bytes, serialize } from \"near-sdk-js/lib/utils\";\r\nimport { NftMint } from \"./events\";\r\nimport { TokenMetadata } from \"./metadata\";\r\nimport { Token, TokenId } from \"./token\";\r\nimport {\r\n  assert_at_least_one_yocto,\r\n  assert_one_yocto,\r\n  IntoStorageKey,\r\n  refund_deposit,\r\n  refund_deposit_to_account,\r\n  refund_storage_deposit,\r\n  str,\r\n} from \"./utils\";\r\n\r\nconst GAS_FOR_NFT_APPROVE = 20_000_000_000_000n;\r\n\r\nfunction encUint8Array(str: string) {\r\n  if (str === null) {\r\n    throw new Error(\"str is null\");\r\n  }\r\n  //encode Uint8Array\r\n  const enc = new TextEncoder();\r\n  return enc.encode(str);\r\n}\r\n\r\nfunction repeat(str: string, n: number) {\r\n  return Array(n + 1).join(str);\r\n}\r\n\r\nfunction expect_token_found<T>(option: any): any {\r\n  if (option === null) {\r\n    throw new Error(\"Token not found\");\r\n  }\r\n  return option;\r\n}\r\n\r\nfunction expect_approval<T>(option: any): any {\r\n  if (option === null) {\r\n    throw new Error(\"next_approval_by_id must be set for approval ext\");\r\n  }\r\n  return option;\r\n}\r\n\r\nexport class NonFungibleToken {\r\n  public owner_id: AccountId;\r\n  public extra_storage_in_bytes_per_token: bigint;\r\n  public owner_by_id: UnorderedMap<AccountId>;\r\n  public token_metadata_by_id: LookupMap<TokenMetadata>;\r\n  public tokens_per_owner: LookupMap<UnorderedSet<TokenId>>;\r\n  public approvals_by_id: LookupMap<{ [approvals: AccountId]: bigint }>;\r\n  public next_approval_id_by_id: LookupMap<bigint>;\r\n\r\n  constructor() {\r\n    this.owner_id = \"\";\r\n    this.extra_storage_in_bytes_per_token = 0n;\r\n    this.owner_by_id = new UnorderedMap(\"\");\r\n    this.token_metadata_by_id = null;\r\n    this.tokens_per_owner = null;\r\n    this.approvals_by_id = null;\r\n    this.next_approval_id_by_id = null;\r\n  }\r\n\r\n  init(\r\n    owner_by_id_prefix: IntoStorageKey,\r\n    owner_id: AccountId,\r\n    token_metadata_prefix?: IntoStorageKey,\r\n    enumeration_prefix?: IntoStorageKey,\r\n    approval_prefix?: IntoStorageKey\r\n  ) {\r\n    let approvals_by_id: LookupMap<{ [approvals: AccountId]: bigint }>;\r\n    let next_approval_id_by_id: LookupMap<bigint>;\r\n    if (approval_prefix) {\r\n      const prefix = approval_prefix.into_storage_key();\r\n      approvals_by_id = new LookupMap(prefix);\r\n      next_approval_id_by_id = new LookupMap(prefix + \"n\");\r\n    } else {\r\n      approvals_by_id = null;\r\n      next_approval_id_by_id = null;\r\n    }\r\n\r\n    this.owner_id = owner_id;\r\n    this.extra_storage_in_bytes_per_token = 0n;\r\n    this.owner_by_id = new UnorderedMap(owner_by_id_prefix.into_storage_key());\r\n    this.token_metadata_by_id = token_metadata_prefix\r\n      ? new LookupMap(token_metadata_prefix.into_storage_key())\r\n      : null;\r\n    this.tokens_per_owner = enumeration_prefix\r\n      ? new LookupMap(enumeration_prefix.into_storage_key())\r\n      : null;\r\n    this.approvals_by_id = approvals_by_id;\r\n    this.next_approval_id_by_id = next_approval_id_by_id;\r\n    this.measure_min_token_storage_cost();\r\n  }\r\n\r\n  internal_mint_with_refund(\r\n    token_id: TokenId,\r\n    token_owner_id: AccountId,\r\n    token_metadata?: TokenMetadata,\r\n    refund_id?: string\r\n  ): Token {\r\n    let initial_storage_usage: [string, bigint] = null;\r\n    if (refund_id) {\r\n      initial_storage_usage = [refund_id, near.storageUsage()];\r\n    }\r\n    if (this.token_metadata_by_id && token_metadata === undefined) {\r\n      throw new Error(\"Must provide metadata\");\r\n    }\r\n    if (this.owner_by_id.get(token_id)) {\r\n      throw new Error(\"token_id must be unique\");\r\n    }\r\n\r\n    const owner_id = token_owner_id;\r\n    this.owner_by_id.set(token_id, owner_id);\r\n    this.token_metadata_by_id?.set(token_id, token_metadata);\r\n    if (this.tokens_per_owner) {\r\n      let token_ids = this.tokens_per_owner.get(owner_id, {\r\n        reconstructor: UnorderedSet.reconstruct,\r\n      });\r\n      if (token_ids === null) {\r\n        token_ids = new UnorderedSet(\r\n          new TokensPerOwner(\r\n            encUint8Array(near.sha256(bytes(owner_id)))\r\n          ).into_storage_key()\r\n        );\r\n      }\r\n      token_ids.set(token_id);\r\n      this.tokens_per_owner.set(owner_id, token_ids);\r\n    }\r\n\r\n    const approved_account_ids = this.approvals_by_id ? {} : undefined;\r\n    if (initial_storage_usage) {\r\n      const [id, storage_usage] = initial_storage_usage;\r\n      refund_deposit_to_account(near.storageUsage() - storage_usage, id);\r\n    }\r\n    return new Token(token_id, owner_id, token_metadata, approved_account_ids);\r\n  }\r\n\r\n  internal_mint(\r\n    token_id: TokenId,\r\n    token_owner_id: AccountId,\r\n    token_metadata?: TokenMetadata\r\n  ): Token {\r\n    const token = this.internal_mint_with_refund(\r\n      token_id,\r\n      token_owner_id,\r\n      token_metadata,\r\n      near.predecessorAccountId()\r\n    );\r\n    new NftMint(token.owner_id, [token.token_id]).emit();\r\n    return token;\r\n  }\r\n\r\n  measure_min_token_storage_cost() {\r\n    const initial_storage_usage = near.storageUsage();\r\n    // 64 Length because this is the max account id length\r\n    const tmp_token_id = repeat(\"a\", 64);\r\n    const tmp_owner_id = repeat(\"a\", 64);\r\n\r\n    // 1. set some dummy data\r\n    this.owner_by_id.set(tmp_token_id, tmp_owner_id);\r\n    if (this.token_metadata_by_id) {\r\n      this.token_metadata_by_id.set(\r\n        tmp_token_id,\r\n        new TokenMetadata(\r\n          repeat(\"a\", 64),\r\n          repeat(\"a\", 64),\r\n          repeat(\"a\", 64),\r\n          repeat(\"a\", 64),\r\n          1n,\r\n          null,\r\n          null,\r\n          null,\r\n          null,\r\n          null,\r\n          null,\r\n          null\r\n        )\r\n      );\r\n    }\r\n\r\n    if (this.tokens_per_owner) {\r\n      const u = new UnorderedSet<AccountId>(\r\n        new TokensPerOwner(\r\n          encUint8Array(near.sha256(bytes(tmp_owner_id)))\r\n        ).into_storage_key()\r\n      );\r\n      u.set(tmp_token_id);\r\n      this.tokens_per_owner.set(tmp_owner_id, u);\r\n    }\r\n    if (this.approvals_by_id) {\r\n      const approvals = {};\r\n      approvals[tmp_owner_id] = 1n;\r\n      this.approvals_by_id.set(tmp_token_id, approvals);\r\n    }\r\n    if (this.next_approval_id_by_id) {\r\n      this.next_approval_id_by_id.set(tmp_token_id, 1n);\r\n    }\r\n\r\n    // 2. see how much space it took\r\n    this.extra_storage_in_bytes_per_token =\r\n      near.storageUsage() - initial_storage_usage;\r\n\r\n    // 3. roll it all back\r\n    if (this.next_approval_id_by_id) {\r\n      this.next_approval_id_by_id.remove(tmp_token_id);\r\n    }\r\n    if (this.approvals_by_id) {\r\n      this.approvals_by_id.remove(tmp_token_id);\r\n    }\r\n    if (this.tokens_per_owner) {\r\n      const u = this.tokens_per_owner.remove(tmp_owner_id, {\r\n        reconstructor: UnorderedSet.reconstruct,\r\n      });\r\n      u.remove(tmp_token_id);\r\n    }\r\n    if (this.token_metadata_by_id) {\r\n      this.token_metadata_by_id.remove(tmp_token_id);\r\n    }\r\n    this.owner_by_id.remove(tmp_token_id);\r\n  }\r\n\r\n  nft_total_supply(): number {\r\n    return this.owner_by_id.length;\r\n  }\r\n  private enum_get_token(owner_id: AccountId, token_id: TokenId): Token {\r\n    const metadata = this.token_metadata_by_id.get(token_id, {\r\n      reconstructor: TokenMetadata.reconstruct,\r\n    });\r\n    const approved_account_ids = this.approvals_by_id.get(token_id, {\r\n      defaultValue: {},\r\n    });\r\n    return new Token(token_id, owner_id, metadata, approved_account_ids);\r\n  }\r\n\r\n  nft_tokens({\r\n    from_index,\r\n    limit,\r\n  }: {\r\n    from_index?: number;\r\n    limit?: number;\r\n  }): Token[] {\r\n    const start_index = from_index === undefined ? 0 : from_index;\r\n    assert(\r\n      this.owner_by_id.length >= start_index,\r\n      \"Out of bounds, please use a smaller from_index.\"\r\n    );\r\n    let l = limit === undefined ? 2 ** 32 : limit;\r\n    assert(l > 0, \"limit must be greater than 0.\");\r\n    l = Math.min(l, this.owner_by_id.length - start_index);\r\n    const ret: Token[] = [];\r\n    for (let i = start_index; i < start_index + l; i++) {\r\n      const token_id = this.owner_by_id.keys.get(i);\r\n      const owner_id = this.owner_by_id.get(token_id);\r\n      ret.push(this.enum_get_token(owner_id, token_id));\r\n    }\r\n    return ret;\r\n  }\r\n\r\n  nft_supply_for_owner({ account_id }: { account_id: AccountId }): number {\r\n    const tokens_per_owner = this.tokens_per_owner;\r\n    assert(\r\n      tokens_per_owner !== null,\r\n      \"Could not find tokens_per_owner when calling a method on the enumeration standard.\"\r\n    );\r\n\r\n    const account_tokens = tokens_per_owner.get(account_id, {\r\n      reconstructor: UnorderedSet.reconstruct,\r\n    });\r\n    return account_tokens === null ? 0 : account_tokens.length;\r\n  }\r\n\r\n  nft_tokens_for_owner({\r\n    account_id,\r\n    from_index,\r\n    limit,\r\n  }: {\r\n    account_id: AccountId;\r\n    from_index?: number;\r\n    limit?: number;\r\n  }): Token[] {\r\n    const tokens_per_owner = this.tokens_per_owner;\r\n    assert(\r\n      tokens_per_owner !== undefined,\r\n      \"Could not find tokens_per_owner when calling a method on the enumeration standard.\"\r\n    );\r\n    const token_set = tokens_per_owner.get(account_id, {\r\n      reconstructor: UnorderedSet.reconstruct,\r\n    });\r\n    assert(token_set !== null, \"Token set is empty\");\r\n\r\n    const start_index = from_index === undefined ? 0 : from_index;\r\n    assert(\r\n      token_set.length >= start_index,\r\n      \"Out of bounds, please use a smaller from_index.\"\r\n    );\r\n    let l = limit === undefined ? 2 ** 32 : limit;\r\n    assert(l > 0, \"limit must be greater than 0.\");\r\n    l = Math.min(l, token_set.length - start_index);\r\n\r\n    const ret: Token[] = [];\r\n    for (let i = start_index; i < start_index + l; i++) {\r\n      const token_id = token_set.elements.get(i);\r\n      const owner_id = this.owner_by_id.get(token_id);\r\n      ret.push(this.enum_get_token(owner_id, token_id));\r\n    }\r\n    return ret;\r\n  }\r\n\r\n  nft_approve({\r\n    token_id,\r\n    account_id,\r\n    msg,\r\n  }: {\r\n    token_id: TokenId;\r\n    account_id: AccountId;\r\n    msg: string;\r\n  }): NearPromise {\r\n    assert_at_least_one_yocto();\r\n    if (this.approvals_by_id === null) {\r\n      throw new Error(\"NFT does not support Approval Management\");\r\n    }\r\n    const approvals_by_id = this.approvals_by_id;\r\n    const owner_id = expect_token_found(this.owner_by_id.get(token_id));\r\n\r\n    assert(\r\n      near.predecessorAccountId() === owner_id,\r\n      \"Predecessor must be token owner.\"\r\n    );\r\n\r\n    const next_approval_id_by_id = expect_approval(this.next_approval_id_by_id);\r\n    const approved_account_ids = approvals_by_id.get(token_id) ?? {};\r\n    const approval_id = next_approval_id_by_id.get(token_id) ?? 1n;\r\n    const old_approved_account_ids_size =\r\n      serialize(approved_account_ids).length;\r\n    approved_account_ids[account_id] = approval_id;\r\n    const new_approved_account_ids_size =\r\n      serialize(approved_account_ids).length;\r\n\r\n    approvals_by_id.set(token_id, approved_account_ids);\r\n\r\n    next_approval_id_by_id.set(token_id, approval_id + 1n);\r\n\r\n    const storage_used =\r\n      new_approved_account_ids_size - old_approved_account_ids_size;\r\n    refund_deposit(BigInt(storage_used));\r\n\r\n    if (msg) {\r\n      return NearPromise.new(account_id).functionCall(\r\n        \"nft_on_approve\",\r\n        serialize({ token_id, owner_id, approval_id, msg }),\r\n        0n,\r\n        near.prepaidGas() - GAS_FOR_NFT_APPROVE\r\n      );\r\n    }\r\n    return null;\r\n  }\r\n\r\n  nft_revoke({\r\n    token_id,\r\n    account_id,\r\n  }: {\r\n    token_id: TokenId;\r\n    account_id: AccountId;\r\n  }) {\r\n    assert_one_yocto();\r\n    if (this.approvals_by_id === null) {\r\n      throw new Error(\"NFT does not support Approval Management\");\r\n    }\r\n    const approvals_by_id = this.approvals_by_id;\r\n    const owner_id = expect_token_found(this.owner_by_id.get(token_id));\r\n\r\n    const predecessorAccountId = near.predecessorAccountId();\r\n    assert(\r\n      predecessorAccountId === owner_id,\r\n      \"Predecessor must be token owner.\"\r\n    );\r\n\r\n    const approved_account_ids = approvals_by_id.get(token_id);\r\n    const old_approved_account_ids_size =\r\n      serialize(approved_account_ids).length;\r\n    let new_approved_account_ids_size;\r\n\r\n    if (approved_account_ids[account_id]) {\r\n      delete approved_account_ids[account_id];\r\n      if (Object.keys(approved_account_ids).length === 0) {\r\n        approvals_by_id.remove(token_id);\r\n        new_approved_account_ids_size = serialize(approved_account_ids).length;\r\n      } else {\r\n        approvals_by_id.set(token_id, approved_account_ids);\r\n        new_approved_account_ids_size = 0;\r\n      }\r\n      refund_storage_deposit(\r\n        predecessorAccountId,\r\n        new_approved_account_ids_size - old_approved_account_ids_size\r\n      );\r\n    }\r\n  }\r\n\r\n  nft_revoke_all({ token_id }: { token_id: TokenId }) {\r\n    assert_one_yocto();\r\n    if (this.approvals_by_id === null) {\r\n      throw new Error(\"NFT does not support Approval Management\");\r\n    }\r\n    const approvals_by_id = this.approvals_by_id;\r\n    const owner_id = expect_token_found(this.owner_by_id.get(token_id));\r\n\r\n    const predecessorAccountId = near.predecessorAccountId();\r\n    assert(\r\n      predecessorAccountId === owner_id,\r\n      \"Predecessor must be token owner.\"\r\n    );\r\n\r\n    const approved_account_ids = approvals_by_id.get(token_id);\r\n    if (approved_account_ids) {\r\n      refund_storage_deposit(\r\n        predecessorAccountId,\r\n        serialize(approved_account_ids).length\r\n      );\r\n\r\n      approvals_by_id.remove(token_id);\r\n    }\r\n  }\r\n\r\n  static reconstruct(data: NonFungibleToken): NonFungibleToken {\r\n    const ret = new NonFungibleToken();\r\n    Object.assign(ret, data);\r\n    ret.owner_by_id = UnorderedMap.reconstruct(ret.owner_by_id);\r\n    if (ret.token_metadata_by_id) {\r\n      ret.token_metadata_by_id = LookupMap.reconstruct(\r\n        ret.token_metadata_by_id\r\n      );\r\n    }\r\n    if (ret.tokens_per_owner) {\r\n      ret.tokens_per_owner = LookupMap.reconstruct(ret.tokens_per_owner);\r\n    }\r\n    if (ret.approvals_by_id) {\r\n      ret.approvals_by_id = LookupMap.reconstruct(ret.approvals_by_id);\r\n    }\r\n    if (ret.next_approval_id_by_id) {\r\n      ret.next_approval_id_by_id = LookupMap.reconstruct(\r\n        ret.next_approval_id_by_id\r\n      );\r\n    }\r\n    return ret;\r\n  }\r\n}\r\n\r\nexport class TokensPerOwner implements IntoStorageKey {\r\n  constructor(public account_hash: Uint8Array) {}\r\n\r\n  into_storage_key(): string {\r\n    return \"\\x00\" + str(this.account_hash);\r\n  }\r\n}\r\n","import {\n  NearBindgen,\n  near,\n  call,\n  view,\n  initialize,\n  LookupMap,\n  UnorderedMap,\n  assert,\n} from \"near-sdk-js\";\nimport { AccountId } from \"near-sdk-js/lib/types\";\nimport { NonFungibleToken } from \"./impl\";\nimport { NFTContractMetadata, TokenMetadata } from \"./metadata\";\nimport { TokenId } from \"./token\";\nimport { IntoStorageKey } from \"./utils\";\n\nclass StorageKey {}\n\nclass StorageKeyNonFungibleToken extends StorageKey implements IntoStorageKey {\n  into_storage_key(): string {\n    return \"NFT_\";\n  }\n}\n\nclass StorageKeyTokenMetadata extends StorageKey implements IntoStorageKey {\n  into_storage_key(): string {\n    return \"TOKEN_METADATA_\";\n  }\n}\n\nclass StorageKeyTokenEnumeration extends StorageKey implements IntoStorageKey {\n  into_storage_key(): string {\n    return \"TOKEN_ENUMERATION_\";\n  }\n}\n\nclass StorageKeyApproval extends StorageKey implements IntoStorageKey {\n  into_storage_key(): string {\n    return \"APPROVAL1_\";\n  }\n}\n\n@NearBindgen({})\nclass Contract {\n  tokens: NonFungibleToken;\n  metadata: NFTContractMetadata;\n\n  constructor() {\n    this.tokens = new NonFungibleToken();\n    this.metadata = new NFTContractMetadata();\n  }\n  @initialize({})\n  init({\n    owner_id,\n    metadata,\n  }: {\n    owner_id: AccountId;\n    metadata: NFTContractMetadata;\n  }) {\n    this.metadata = Object.assign(new NFTContractMetadata(), metadata);\n    this.metadata.assert_valid();\n    this.tokens = new NonFungibleToken();\n    this.tokens.init(\n      new StorageKeyNonFungibleToken(),\n      owner_id,\n      new StorageKeyTokenMetadata(),\n      new StorageKeyTokenEnumeration(),\n      new StorageKeyApproval()\n    );\n  }\n\n  @call({})\n  nft_mint({\n    token_id,\n    token_owner_id,\n    token_metadata,\n  }: {\n    token_id: TokenId;\n    token_owner_id: AccountId;\n    token_metadata: TokenMetadata;\n  }) {\n    assert(\n      near.predecessorAccountId() === this.tokens.owner_id,\n      \"Unauthorized\"\n    );\n    this.tokens.internal_mint(token_id, token_owner_id, token_metadata);\n  }\n  // @call({})\n  // mint_nft({\n  //   token_owner_id,\n  //   name,\n  //   description,\n  //   meta_uri,\n  //   level,\n  // }: {\n  //   token_owner_id: string;\n  //   name: string | null;\n  //   description: string | null;\n  //   meta_uri: string | null;\n  //   level: number | null;\n  // }) {\n  //   this.owner_by_id.set(this.token_id.toString(), token_owner_id);\n\n  //   let token = new Token(this.token_id, token_owner_id);\n\n  //   this.token_by_id.set(this.token_id.toString(), token);\n\n  //   this.token_id++;\n\n  //   return token;\n  // }\n  // @view({})\n  // get_token_by_id({ token_id }: { token_id: number }) {\n  //   let token = this.token_by_id.get(token_id.toString());\n  //   if (token === null) {\n  //     return null;\n  //   }\n  //   return token;\n  // }\n  // @view({})\n  // get_supply_tokens() {\n  //   return this.token_id;\n  // }\n  // @view({})\n  // get_all_token({ start, end }: { start?: number; end?: number }) {\n  //   let all_tokens = [];\n  //   for (let i = 0; i < this.token_id; i++) {\n  //     all_tokens.push(this.token_by_id.get(i.toString()));\n  //   }\n\n  //   return all_tokens;\n  // }\n}\n"],"names":["PromiseIndexBrand","TYPE_KEY","TypeBrand","ERR_INCONSISTENT_STATE","ERR_INDEX_OUT_OF_BOUNDS","u8ArrayToBytes","array","reduce","result","value","String","fromCharCode","bytesToU8Array","bytes","Uint8Array","from","map","byte","charCodeAt","stringOrU8Array","checkStringIsBytes","Error","forEach","character","index","assert","expression","message","getValueWithOptions","options","deserializer","deserialize","deserialized","undefined","defaultValue","reconstructor","serializeValueWithOptions","serializer","serialize","valueToSerialize","JSON","stringify","key","toString","BIGINT","Date","toISOString","DATE","valueToDeserialize","parse","_","Object","keys","length","every","includes","BigInt","PromiseResult","PromiseError","assertNumber","n","Number","isSafeInteger","chain","args","wrap","a","b","c","encode","Array","reverse","acc","i","decode","alphabet","digits","isArray","input","letter","indexOf","join","separator","to","split","padding","bits","chr","data","push","end","slice","normalize","fn","convertRadix","pos","res","d","carry","done","digit","digitBase","Math","floor","gcd","radix2carry","convertRadix2","mask","radix","num","radix2","revPadding","unsafeWrapper","apply","e","base16","base32","s","toUpperCase","replace","base64","base64url","genBase58","abc","base58","XMR_BLOCK_LEN","base58xmr","block","subarray","padStart","str","blockLen","j","concat","BECH_ALPHABET","POLYMOD_GENERATORS","bech32Polymod","pre","chk","bechChecksum","prefix","words","encodingConst","len","v","genBech32","encoding","ENCODING_CONST","_words","fromWords","toWords","fromWordsUnsafe","limit","actualLength","TypeError","toLowerCase","lowered","sepIndex","lastIndexOf","sum","endsWith","decodeUnsafe","decodeToBytes","utf8","TextDecoder","TextEncoder","hex","CODERS","CurveType","DataLength","U64_MAX","EVICTED_REGISTER","log","params","env","accumulated","parameter","param","stringified","predecessorAccountId","predecessor_account_id","read_register","currentAccountId","current_account_id","attachedDeposit","attached_deposit","prepaidGas","prepaid_gas","storageRead","returnValue","storage_read","storageHasKey","storage_has_key","storageGetEvicted","storageUsage","storage_usage","storageWrite","storage_write","storageRemove","storage_remove","storageByteCost","promiseAnd","promiseIndexes","promise_and","promiseBatchCreate","accountId","promise_batch_create","promiseBatchThen","promiseIndex","promise_batch_then","promiseBatchActionCreateAccount","promise_batch_action_create_account","promiseBatchActionDeployContract","code","promise_batch_action_deploy_contract","promiseBatchActionFunctionCall","methodName","amount","gas","promise_batch_action_function_call","promiseBatchActionTransfer","promise_batch_action_transfer","promiseBatchActionStake","publicKey","promise_batch_action_stake","promiseBatchActionAddKeyWithFullAccess","nonce","promise_batch_action_add_key_with_full_access","promiseBatchActionAddKeyWithFunctionCall","allowance","receiverId","methodNames","promise_batch_action_add_key_with_function_call","promiseBatchActionDeleteKey","promise_batch_action_delete_key","promiseBatchActionDeleteAccount","beneficiaryId","promise_batch_action_delete_account","promiseBatchActionFunctionCallWeight","weight","promise_batch_action_function_call_weight","promiseReturn","promise_return","sha256","initialize","_empty","_target","_key","_descriptor","call","privateFunction","payableFunction","descriptor","originalMethod","near","NearBindgen","requireInit","target","_create","_getState","rawState","_deserialize","_saveToStorage","objectToSave","_serialize","_getArgs","forReturn","_reconstruct","classObject","plainObject","item","constructor","reconstruct","_requireInit","LookupMap","keyPrefix","containsKey","storageKey","get","remove","set","newValue","storageValue","extend","keyValuePairs","indexToKey","Uint32Array","buffer","Vector","isEmpty","swapRemove","pop","last","element","lastIndex","lastKey","elements","Symbol","iterator","VectorIterator","createIteratorWithOptions","toArray","clear","vector","current","next","UnorderedMap","values","valueAndIndex","serialized","newElementIndex","oldValue","oldIndex","oldValueAndIndex","swappedKey","swappedValueAndIndex","UnorderedMapIterator","unorderedMap","serializeIndex","deserializeIndex","rawIndex","UnorderedSet","elementIndexPrefix","contains","indexLookup","nextIndex","nextIndexRaw","indexRaw","lastElement","lastLookupElement","elementsPrefix","PromiseAction","CreateAccount","add","DeployContract","FunctionCall","functionName","FunctionCallWeight","Transfer","Stake","AddFullAccessKey","AddAccessKey","functionNames","DeleteKey","DeleteAccount","PromiseSingle","actions","after","constructRecursively","action","PromiseJoint","promiseA","promiseB","NearPromise","subtype","shouldReturn","new","addAction","createAccount","deployContract","functionCall","functionCallWeight","transfer","stake","addFullAccessKey","addFullAccessKeyWithNonce","addAccessKey","addAccessKeyWithNonce","deleteKey","deleteAccount","and","other","then","asReturn","onReturn","NearEvent","internal_to_json_string","internal_to_json_event_string","emit","Nep171Event","version","event_kind","NftMint","owner_id","token_ids","memo","emit_many","new_171_v1","new_171","NFT_METADATA_SPEC","TokenMetadata","title","description","media","media_hash","copies","issued_at","expires_at","starts_at","updated_at","extra","reference","reference_hash","assert_valid","NFTContractMetadata","spec","name","symbol","icon","base_uri","init","metadata","assign","Token","token_id","approved_account_ids","refund_storage_deposit","account_id","storage_released","promise_id","assert_at_least_one_yocto","assert_one_yocto","refund_deposit_to_account","storage_used","required_cost","refund","refund_deposit","uint8array_to_latin1_string","GAS_FOR_NFT_APPROVE","encUint8Array","enc","repeat","expect_token_found","option","expect_approval","NonFungibleToken","extra_storage_in_bytes_per_token","owner_by_id","token_metadata_by_id","tokens_per_owner","approvals_by_id","next_approval_id_by_id","owner_by_id_prefix","token_metadata_prefix","enumeration_prefix","approval_prefix","into_storage_key","measure_min_token_storage_cost","internal_mint_with_refund","token_owner_id","token_metadata","refund_id","initial_storage_usage","TokensPerOwner","id","internal_mint","token","tmp_token_id","tmp_owner_id","u","approvals","nft_total_supply","enum_get_token","nft_tokens","from_index","start_index","l","min","ret","nft_supply_for_owner","account_tokens","nft_tokens_for_owner","token_set","nft_approve","msg","approval_id","old_approved_account_ids_size","new_approved_account_ids_size","nft_revoke","nft_revoke_all","account_hash","StorageKey","StorageKeyNonFungibleToken","StorageKeyTokenMetadata","StorageKeyTokenEnumeration","StorageKeyApproval","Contract","tokens","nft_mint"],"mappings":"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"}